(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{169:function(e,t,a){e.exports=a.p+"static/media/logo.91005679.png"},196:function(e,t,a){},198:function(e,t,a){},199:function(e,t,a){},279:function(e,t,a){},280:function(e,t){e.exports=[{value:0,label:"P6",name:"P-level 6"},{value:1,label:"P5",name:"P-level 5"},{value:2,label:"P4",name:"P-level 4"},{value:3,label:"P3",name:"P-level 3"},{value:4,label:"P2",name:"P-level 2"},{value:5,label:"P1",name:"P-level 1"},{value:6,label:"DS",name:"DS level"},{value:7,label:"JS",name:"JS level"}]},306:function(e,t,a){e.exports=a(539)},311:function(e,t,a){},347:function(e,t,a){},348:function(e,t,a){},351:function(e,t,a){var r={"./af-ZA.js":352,"./ar-AE.js":353,"./ar-BH.js":354,"./ar-DZ.js":355,"./ar-EG.js":356,"./ar-IQ.js":357,"./ar-JO.js":358,"./ar-KW.js":359,"./ar-LB.js":360,"./ar-LY.js":361,"./ar-MA.js":362,"./ar-OM.js":363,"./ar-QA.js":364,"./ar-SA.js":365,"./ar-SY.js":366,"./ar-TN.js":367,"./ar-YE.js":368,"./az-Cyrl-AZ.js":369,"./az-Latn-AZ.js":370,"./be-BY.js":371,"./bg-BG.js":372,"./bs-Latn-BA.js":373,"./ca-ES.js":374,"./cs-CZ.js":375,"./cy-GB.js":376,"./da-DK.js":377,"./de-AT.js":378,"./de-CH.js":379,"./de-DE.js":380,"./de-LI.js":381,"./de-LU.js":382,"./dv-MV.js":383,"./el-GR.js":384,"./en-029.js":385,"./en-AU.js":386,"./en-BZ.js":387,"./en-CA.js":388,"./en-GB.js":389,"./en-IE.js":390,"./en-JM.js":391,"./en-NZ.js":392,"./en-PH.js":393,"./en-TT.js":394,"./en-ZA.js":395,"./en-ZW.js":396,"./es-AR.js":397,"./es-BO.js":398,"./es-CL.js":399,"./es-CO.js":400,"./es-CR.js":401,"./es-DO.js":402,"./es-EC.js":403,"./es-ES.js":404,"./es-GT.js":405,"./es-HN.js":406,"./es-MX.js":407,"./es-NI.js":408,"./es-PA.js":409,"./es-PE.js":410,"./es-PR.js":411,"./es-PY.js":412,"./es-SV.js":413,"./es-UY.js":414,"./es-VE.js":415,"./et-EE.js":416,"./eu-ES.js":417,"./fa-IR.js":418,"./fi-FI.js":419,"./fo-FO.js":420,"./fr-BE.js":421,"./fr-CA.js":422,"./fr-CH.js":423,"./fr-FR.js":424,"./fr-LU.js":425,"./fr-MC.js":426,"./gl-ES.js":427,"./gu-IN.js":428,"./he-IL.js":429,"./hi-IN.js":430,"./hr-BA.js":431,"./hr-HR.js":432,"./hu-HU.js":433,"./hy-AM.js":434,"./id-ID.js":435,"./is-IS.js":436,"./it-CH.js":437,"./it-IT.js":438,"./ja-JP.js":439,"./ka-GE.js":440,"./kk-KZ.js":441,"./kn-IN.js":442,"./ko-KR.js":443,"./kok-IN.js":444,"./ky-KG.js":445,"./lt-LT.js":446,"./lv-LV.js":447,"./mi-NZ.js":448,"./mk-MK.js":449,"./mn-MN.js":450,"./mr-IN.js":451,"./ms-BN.js":452,"./ms-MY.js":453,"./mt-MT.js":454,"./nb-NO.js":455,"./nl-BE.js":456,"./nl-NL.js":457,"./nn-NO.js":458,"./ns-ZA.js":459,"./pa-IN.js":460,"./pl-PL.js":461,"./pt-BR.js":462,"./pt-PT.js":463,"./quz-BO.js":464,"./quz-EC.js":465,"./quz-PE.js":466,"./ro-RO.js":467,"./ru-RU.js":468,"./sa-IN.js":469,"./se-FI.js":470,"./se-NO.js":471,"./se-SE.js":472,"./sk-SK.js":473,"./sl-SI.js":474,"./sma-NO.js":475,"./sma-SE.js":476,"./smj-NO.js":477,"./smj-SE.js":478,"./smn-FI.js":479,"./sms-FI.js":480,"./sq-AL.js":481,"./sr-Cyrl-BA.js":482,"./sr-Cyrl-CS.js":483,"./sr-Latn-BA.js":484,"./sr-Latn-CS.js":485,"./sv-FI.js":486,"./sv-SE.js":487,"./sw-KE.js":488,"./syr-SY.js":489,"./ta-IN.js":490,"./te-IN.js":491,"./th-TH.js":492,"./tn-ZA.js":493,"./tr-TR.js":494,"./tt-RU.js":495,"./uk-UA.js":496,"./ur-PK.js":497,"./uz-Cyrl-UZ.js":498,"./uz-Latn-UZ.js":499,"./vi-VN.js":500,"./xh-ZA.js":501,"./zh-CN.js":502,"./zh-HK.js":503,"./zh-MO.js":504,"./zh-SG.js":505,"./zh-TW.js":506,"./zu-ZA.js":507};function n(e){var t=s(e);return a(t)}function s(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=s,e.exports=n,n.id=351},519:function(e,t,a){},520:function(e,t,a){},521:function(e,t,a){},523:function(e,t,a){},534:function(e,t,a){},539:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(22),i=a.n(s),o=(a(311),a(15)),l=a.n(o),c=a(21),u=a(10),m=a(8),p=a(11),d=a(12),h=a(9),b=a(13),g=a(81),f=a.n(g);f.a.defaults.baseURL="http://timely-server-timely-wildfly.apps.shift.infoteach.ca/api/",console.log(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_NODE_ENV:"production",REACT_APP_DEV_BASE_URL:"http://localhost:8080/timely/api/",REACT_APP_PRODUCTION_BASE_URL:"http://timely-server-timely-wildfly.apps.shift.infoteach.ca/api/"})),f.a.defaults.baseURL="http://localhost:8080/timely/api/";var j=function(e){return e.data},v=function(e){return{headers:{Authorization:"Bearer "+e}}},E=function(e,t){return f.a.get(e,v(t)).then(j)},k=function(e,t,a){return f.a.post(e,a,v(t)).then(j)},y=function(e,t,a){return f.a.put(e,a,v(t)).then(j)},O=function(e,t){return f.a.post(e,t).then(j)},w={getEmployeeById:function(e,t){return E("/emps/".concat(e),t)},getAllEmployees:function(e){return E("/emps",e)},createEmployee:function(e,t){return k("/emps/",e,t)},updateEmployee:function(e,t,a){return y("/emps/".concat(e),t,a)},getCurrentUser:function(e,t){return E("/emps/".concat(e),t)},getEmployeesBySupervisor:function(e,t){return E("/emps/supervisor/".concat(e),t)}},N={login:function(e){return O("/tokens",e)}},C={getAllProjects:function(e){return E("/projects",e)},getProjectsForUser:function(e,t){return E("/projects/emp/".concat(e),t)},createProject:function(e,t){return k("/projects/createProject",t,e)},assignToProject:function(e,t){return k("/projects/assignToProject/",t,e)},getDetailsById:function(e,t){return E("/projects/projectDetails/".concat(e),t)},getById:function(e,t){return E("/projects/".concat(e),t)}},S={getAllTimesheetsByEmp:function(e,t){return E("/emps/".concat(e,"/timesheets/"),t)},getTimesheetById:function(e,t,a){return E("/emps/".concat(e,"/timesheets/").concat(a),t)},createCurrentWeekTimesheet:function(e,t,a){return k("emps/".concat(e,"/timesheets/"),t,a)}},D=a(30),x=a(79),_=a(56),I=a.n(_),P=a(268),T=a(5),A=a(203),L=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleClick=function(){if(0==a.props.states.timesheets.length)a.createCurrentTimesheet();else if(a.hasCurrentTimesheet()){console.log("go to currentTimesheetDetail");var e=a.props.states.timesheets[0][0],t=a.props.states.timesheets[0][1],r=a.props.states.timesheets[0][2];a.props.history.push("/dashboard/timesheet/".concat(e)),localStorage.setItem("timesheetId",e),localStorage.setItem("weekNumber",t),localStorage.setItem("weekEnding",r)}else a.createCurrentTimesheet()},a.createCurrentTimesheet=a.createCurrentTimesheet.bind(Object(h.a)(a)),a.hasCurrentTimesheet=a.hasCurrentTimesheet.bind(Object(h.a)(a)),a.currentDate=a.currentDate.bind(Object(h.a)(a)),a.handleClick=a.handleClick.bind(Object(h.a)(a)),a.currentWeekNumber=a.currentWeekNumber.bind(Object(h.a)(a)),a.getSundayOfCurrentWeek=a.getSundayOfCurrentWeek.bind(Object(h.a)(a)),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"currentDate",value:function(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()}},{key:"getSundayOfCurrentWeek",value:function(){var e=new Date,t=e.getDay(),a=e.getDate()-t+(0==t?-6:1)+6;return new Date(e.setDate(a))}},{key:"currentWeekNumber",value:function(){var e=new Date,t=new Date(e.getFullYear(),0,1),a=(e.getTime()-t.getTime())/864e5;return Math.ceil((a+t.getDay()+7)/7)}},{key:"hasCurrentTimesheet",value:function(){var e=this.props.states.timesheets;return!(this.currentWeekNumber()-e[0][1]>0)}},{key:"createCurrentTimesheet",value:function(){var e=Object(c.a)(l.a.mark((function e(){var t,a,r,n,s,i,o,c,u,m;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(sessionStorage.getItem("user")),a=localStorage.getItem("token"),r=t.employee_id,e.next=5,w.getCurrentUser(r,a);case 5:return n=e.sent,console.log(n.labor_grade_id.labor_grade_id),s=n.labor_grade_id.labor_grade_id,i=(new Date).getFullYear(),o=this.currentWeekNumber(),c=this.getSundayOfCurrentWeek(),u={labor_grade_id:s,year:i,week:o,week_ending:c,status:"InProgress",approver_id:3,approve_date:null,attribute1:null,details:[{project_code:" ",work_package_id:" ",saturday:0,sunday:0,monday:0,tuesday:0,wednesday:0,thursday:0,friday:0,notes:"",project_wp:"PJT19257_2"}]},e.next=14,S.createCurrentWeekTimesheet(r,a,u);case 14:m=e.sent,console.log(m),this.props.fetchTimesheets();case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes;return n.a.createElement(n.a.Fragment,null,n.a.createElement(P.a,{title:"Create Current Timesheet"},n.a.createElement(A.a,{className:e.iconButton,onClick:this.handleClick,color:"primary",variant:"contained"},"Current Timesheet")))}}]),t}(n.a.Component),H=Object(T.a)({iconButton:{marginLeft:30}},{name:"CurrentTimesheetToolBar"})(L),R=(a(347),[{name:"timesheetid",label:"Timesheet ID",className:"column",options:{filter:!1}},{name:"weeknumber",label:"Week Number",className:"column",options:{filter:!1}},{name:"weekending",label:"Week Ending",className:"column",options:{sort:!0,filter:!1}},{name:"status",label:"Status",className:"column",options:{filter:!0}}]),F=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={timesheets:[],loadedUserID:{}},a.fetchTimesheets=a.fetchTimesheets.bind(Object(h.a)(a)),a.formatWeekEnding=a.formatWeekEnding.bind(Object(h.a)(a)),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.fetchTimesheets(),this.formatWeekEnding()}},{key:"fetchTimesheets",value:function(){var e=Object(c.a)(l.a.mark((function e(){var t,a,r,n,s,i,o,c,u,m,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(sessionStorage.getItem("user")),a=localStorage.getItem("token"),r=t.employee_id,e.next=5,S.getAllTimesheetsByEmp(r,a);case 5:if(n=e.sent,console.log(n),0!=n.length){for(s=[],i=0;i<n.length;i++)o=n[i].timesheet_id,c=n[i].week,u=this.formatWeekEnding(n[i].week_ending),m=n[i].status,(p=[]).push(o),p.push(c),p.push(u),p.push(m),s.push(p);s.sort((function(e,t){return t[1]-e[1]})),this.setState({timesheets:s,loadedUserID:r})}else console.log("no timesheets");case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"formatWeekEnding",value:function(e){var t=new Date(e);return t.getFullYear()+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2)}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(I.a,{className:"datatable",title:n.a.createElement("h1",null,"Timesheet"),options:(e=this.props,t=this.state,a=this.fetchTimesheets,{selectableRows:!1,search:!0,print:!1,download:!1,rowHover:!0,onRowClick:function(t){e.history.push("/dashboard/timesheet/".concat(t[0])),localStorage.setItem("timesheetId",t[0])},customToolbar:function(){return n.a.createElement(H,Object.assign({},e,{fetchTimesheets:a,states:t}))}}),columns:R,data:this.state.timesheets}));var e,t,a}}]),t}(r.Component),M=a(263),W=a(264),B=a(265),U=a(589),G=a(267),z=a(266),V=(a(348),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleClick=function(){console.log("create timesheet row")},a.gotoTimesheetDetail=function(){if(1==a.props.dashboardTimesheet&&0!=a.state.timesheetrows.length){var e=a.state.loadedTimesheet.timesheet_id;localStorage.setItem("timesheetId",e),a.props.history.push("/dashboard/timesheet/".concat(e))}},a.timesheetRow=function(e,t){return n.a.createElement(z.a,{key:t},n.a.createElement(B.a,{scope:"row"},e[1]),n.a.createElement(B.a,{align:"right"},e[2]),n.a.createElement(B.a,{align:"right"},a.ccyFormat(e[3])),n.a.createElement(B.a,{align:"right"},a.ccyFormat(e[4])),n.a.createElement(B.a,{align:"right"},a.ccyFormat(e[5])),n.a.createElement(B.a,{align:"right"},a.ccyFormat(e[6])),n.a.createElement(B.a,{align:"right"},a.ccyFormat(e[7])),n.a.createElement(B.a,{align:"right"},a.ccyFormat(e[8])),n.a.createElement(B.a,{align:"right"},a.ccyFormat(e[9])),n.a.createElement(B.a,{align:"right"},a.ccyFormat(e[10])),n.a.createElement(B.a,{align:"right"},e[11]))},a.state={timesheetrows:[],loadUser:{},totalWeek:{},totalDay:[],totalOver:{},totalOverDays:[],loadedTimesheet:{}},a.fetchTimesheetRows=a.fetchTimesheetRows.bind(Object(h.a)(a)),a.handleClick=a.handleClick.bind(Object(h.a)(a)),a.totalHourRow=a.totalHourRow.bind(Object(h.a)(a)),a.totalSat=a.totalSat.bind(Object(h.a)(a)),a.totalSun=a.totalSun.bind(Object(h.a)(a)),a.totalMon=a.totalMon.bind(Object(h.a)(a)),a.totalTue=a.totalTue.bind(Object(h.a)(a)),a.totalWed=a.totalWed.bind(Object(h.a)(a)),a.totalThu=a.totalThu.bind(Object(h.a)(a)),a.totalFri=a.totalFri.bind(Object(h.a)(a)),a.totalHourWeek=a.totalHourWeek.bind(Object(h.a)(a)),a.ccyFormat=a.ccyFormat.bind(Object(h.a)(a)),a.overTimeWeek=a.overTimeWeek.bind(Object(h.a)(a)),a.overTimeDay=a.overTimeDay.bind(Object(h.a)(a)),a.formatWeekEnding=a.formatWeekEnding.bind(Object(h.a)(a)),a.gotoTimesheetDetail=a.gotoTimesheetDetail.bind(Object(h.a)(a)),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.fetchTimesheetRows()}},{key:"fetchTimesheetRows",value:function(){var e=Object(c.a)(l.a.mark((function e(){var t,a,r,n,s,i,o,c,u,m,p,d,h,b,g,f,j,v,E,k,y,O,N,D,x,_,I,P,T,A,L,H,R,F,M,W;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.props.dashboardTimesheet){e.next=9;break}n=JSON.parse(sessionStorage.getItem("user")),t=n.employee_id,a=localStorage.getItem("token"),r=localStorage.getItem("timesheetId"),this.setState({loadUser:n}),e.next=24;break;case 9:if(null==this.props.token){e.next=24;break}return t=this.props.userId,a=this.props.token,e.next=14,C.getProjectsForUser(t,a);case 14:return s=e.sent,e.next=17,w.getCurrentUser(this.props.userId,this.props.token);case 17:return i=e.sent,this.props.fetchProject(s,i),this.setState({loadUser:i}),e.next=22,S.getAllTimesheetsByEmp(t,a);case 22:if(0!=(o=e.sent).length){for(c=[],u=0;u<o.length;u++)m=o[u].timesheet_id,p=o[u].week,d=this.formatWeekEnding(o[u].week_ending),h=o[u].status,(b=[]).push(m),b.push(p),b.push(d),b.push(h),c.push(b);c.sort((function(e,t){return t[1]-e[1]})),r=c[0][0]}else console.log("no timesheets");case 24:if(null==t||null==a||null==r){e.next=32;break}return e.next=27,S.getTimesheetById(t,a,r);case 27:if(g=e.sent,this.setState({loadedTimesheet:g}),0!=g.details.length){for(f=g.details,j=[],v=0;v<f.length;v++)E=f[v].timesheet_row_id,k=f[v].project_code,y=f[v].work_package_id,O=f[v].saturday,N=f[v].sunday,D=f[v].monday,x=f[v].tuesday,_=f[v].wednesday,I=f[v].thursday,P=f[v].friday,T=f[v].notes,A=f[v].project_wp,L=this.totalHourRow(O,N,D,x,_,I,P),(H=[]).push(E),H.push(k),H.push(y),H.push(L),H.push(O),H.push(N),H.push(D),H.push(x),H.push(_),H.push(I),H.push(P),H.push(T),H.push(A),j.push(H);this.setState({timesheetrows:j}),R=this.totalHourWeek(this.state.timesheetrows),F=[this.totalSat(this.state.timesheetrows),this.totalSun(this.state.timesheetrows),this.totalMon(this.state.timesheetrows),this.totalTue(this.state.timesheetrows),this.totalWed(this.state.timesheetrows),this.totalThu(this.state.timesheetrows),this.totalFri(this.state.timesheetrows)],M=this.overTimeWeek(R),W=this.overTimeDay(F),this.setState({totalWeek:R,totalDay:F,totalOver:M,totalOverDays:W})}e.next=33;break;case 32:document.getElementById("timesheetDetailContainer").innerHTML="Sorry, you don't have any timesheet records in the database!";case 33:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ccyFormat",value:function(e){return(Math.round(10*e)/10).toFixed(1)}},{key:"totalHourRow",value:function(e,t,a,r,n,s,i){return e+t+a+r+n+s+i}},{key:"totalSat",value:function(e){for(var t=0,a=0;a<e.length;a++)t+=e[a][4];return t}},{key:"totalSun",value:function(e){for(var t=0,a=0;a<e.length;a++)t+=e[a][5];return t}},{key:"totalMon",value:function(e){for(var t=0,a=0;a<e.length;a++)t+=e[a][6];return t}},{key:"totalTue",value:function(e){for(var t=0,a=0;a<e.length;a++)t+=e[a][7];return t}},{key:"totalWed",value:function(e){for(var t=0,a=0;a<e.length;a++)t+=e[a][8];return t}},{key:"totalThu",value:function(e){for(var t=0,a=0;a<e.length;a++)t+=e[a][9];return t}},{key:"totalFri",value:function(e){for(var t=0,a=0;a<e.length;a++)t+=e[a][10];return t}},{key:"totalHourWeek",value:function(e){for(var t=0,a=0;a<e.length;a++)t+=e[a][3];return t}},{key:"overTimeWeek",value:function(e){return e>40?e-40:0}},{key:"overTimeDay",value:function(e){var t=new Array(7);return e.forEach((function(e,a){var r=e-8;t[a]=r>=0?r:0})),t}},{key:"formatWeekEnding",value:function(e){var t=new Date(e);return t.getFullYear()+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2)}},{key:"render",value:function(){var e=this,t=this.props.classes;return n.a.createElement("div",{className:"container",onClick:function(){e.gotoTimesheetDetail()}},n.a.createElement("div",{className:"timesheetTitle"},n.a.createElement("div",{className:"attributeRow"},n.a.createElement("div",{className:"empNumContainer"},n.a.createElement("div",{className:"empNumTitle"},"Employee Number:"),n.a.createElement("div",{className:"empNum"},this.state.loadUser.employee_id)),n.a.createElement("div",{className:"weekNumContainer"},n.a.createElement("div",{className:"weekNumTitle"},"Week Number:"),n.a.createElement("div",{className:"weekNum"},this.state.loadedTimesheet.week)),n.a.createElement("div",{className:"weekEndContainer"},n.a.createElement("div",{className:"weekEndTitle"},"Week Ending:"),n.a.createElement("div",{className:"weekEnd"},this.formatWeekEnding(this.state.loadedTimesheet.week_ending))),this.props.dashboardTimesheet?null:n.a.createElement(A.a,{className:t.button,onClick:this.handleClick,color:"primary",variant:"contained"},"Add Row")),this.props.dashboardTimesheet?null:n.a.createElement("div",{className:"empNameAttribute"},n.a.createElement("div",{className:"empNameTitle"},"Name:"),n.a.createElement("div",{className:"empName"},this.state.loadUser.first_name," ",this.state.loadUser.last_name))),n.a.createElement(U.a,{className:t.timesheetTable},n.a.createElement(M.a,{className:t.table,"aria-label":"simple table"},n.a.createElement(G.a,null,n.a.createElement(z.a,null,n.a.createElement(B.a,{id:"proj",className:t.tableTitle},"Project"),n.a.createElement(B.a,{id:"wp",align:"right",className:t.tableTitle},"WP"),n.a.createElement(B.a,{id:"tol",align:"right",className:t.tableTitle},"Total"),n.a.createElement(B.a,{id:"sat",align:"right",className:t.tableTitle},"Sat"),n.a.createElement(B.a,{id:"sun",align:"right",className:t.tableTitle},"Sun"),n.a.createElement(B.a,{id:"mon",align:"right",className:t.tableTitle},"Mon"),n.a.createElement(B.a,{id:"tue",align:"right",className:t.tableTitle},"Tue"),n.a.createElement(B.a,{id:"wed",align:"right",className:t.tableTitle},"Wed"),n.a.createElement(B.a,{id:"thu",align:"right",className:t.tableTitle},"Thu"),n.a.createElement(B.a,{id:"fri",align:"right",className:t.tableTitle},"Fri"),n.a.createElement(B.a,{id:"notes",align:"right",className:t.tableTitle},"Notes"))),n.a.createElement(W.a,null,this.state.timesheetrows.map((function(t,a){return e.timesheetRow(t,a)})),n.a.createElement(z.a,null,n.a.createElement(B.a,{className:t.tableTitle},"Total"),n.a.createElement(B.a,{colSpan:2,align:"right"},this.ccyFormat(this.state.totalWeek)),n.a.createElement(B.a,{align:"right"},this.ccyFormat(this.state.totalDay[0])),n.a.createElement(B.a,{align:"right"},this.ccyFormat(this.state.totalDay[1])),n.a.createElement(B.a,{align:"right"},this.ccyFormat(this.state.totalDay[2])),n.a.createElement(B.a,{align:"right"},this.ccyFormat(this.state.totalDay[3])),n.a.createElement(B.a,{align:"right"},this.ccyFormat(this.state.totalDay[4])),n.a.createElement(B.a,{align:"right"},this.ccyFormat(this.state.totalDay[5])),n.a.createElement(B.a,{align:"right"},this.ccyFormat(this.state.totalDay[6]))),n.a.createElement(z.a,null,n.a.createElement(B.a,{colSpan:2,className:t.tableTitle},"Overtime"),n.a.createElement(B.a,{align:"right"},this.ccyFormat(this.state.totalOver)),n.a.createElement(B.a,{align:"right"},this.ccyFormat(this.state.totalOverDays[0])),n.a.createElement(B.a,{align:"right"},this.ccyFormat(this.state.totalOverDays[1])),n.a.createElement(B.a,{align:"right"},this.ccyFormat(this.state.totalOverDays[2])),n.a.createElement(B.a,{align:"right"},this.ccyFormat(this.state.totalOverDays[3])),n.a.createElement(B.a,{align:"right"},this.ccyFormat(this.state.totalOverDays[4])),n.a.createElement(B.a,{align:"right"},this.ccyFormat(this.state.totalOverDays[5])),n.a.createElement(B.a,{align:"right"},this.ccyFormat(this.state.totalOverDays[6]))),n.a.createElement(z.a,null,n.a.createElement(B.a,{colSpan:2,className:t.tableTitle},"Flextime"),n.a.createElement(B.a,{align:"right"},"20"))))))}}]),t}(r.Component)),J=Object(T.a)((function(e){return{table:{width:"93%"},timesheetTable:{width:"100%",maxHeight:"420px",display:"flex",justifyContent:"center"},tableTitle:{fontWeight:"bold",fontSize:"10pt !important"},button:{}}}),{withTheme:!0})(V),Z=a(18),K=a(289),Y=a(270),q=a(290),X=a.n(q);function Q(e){var t=n.a.useState(null),a=Object(Z.a)(t,2),r=a[0],s=a[1],i=function(){s(null)};return n.a.createElement("div",null,n.a.createElement(X.a,{onClick:function(e){s(e.currentTarget)},"aria-controls":"simple-menu","aria-haspopup":"true"}),n.a.createElement(K.a,{id:"simple-menu",anchorEl:r,keepMounted:!0,open:Boolean(r),onClose:i},n.a.createElement(D.b,{to:e.link,style:{textDecoration:"none",color:"black"}},n.a.createElement(Y.a,null," Edit ")," "),null==e.employee.end_date?n.a.createElement(Y.a,{onClick:function(){e.handleArchive(e.id,e.employee),i()}},"Archive"):n.a.createElement(Y.a,{onClick:function(){e.handleOpen(e.id,e.employee),i()}},"Open")))}var $=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.classes;return n.a.createElement(n.a.Fragment,null,n.a.createElement(P.a,{title:"Add an Employee"},n.a.createElement(A.a,{className:e.iconButton,onClick:this.props.handleCreate,color:"primary",variant:"contained"},"Create")))}}]),t}(n.a.Component),ee=Object(T.a)({iconButton:{marginLeft:30}},{name:"CustomToolbar"})($),te=a(573);a(278);var ae=[{name:"employeeId",label:"ID",className:"column"},{name:"firstName",label:"First Name",className:"column"},{name:"lastName",label:"Last Name",className:"column"},{name:"startDate",label:"Start Date",className:"column"},{name:"endDate",label:"End Date",className:"column"},{name:"laborGrade",label:"Labor Grade",className:"column"},{name:"supervisor",label:"Supervisor",className:"column"},{name:"edit",label:"Edit",className:"column"}],re=function(e,t){var a=e.history;return{selectableRows:!1,search:!0,print:!1,download:!1,filter:!1,customToolbar:function(){return n.a.createElement(ee,{history:a,handleCreate:t})},textLabels:{body:{noMatch:n.a.createElement(te.a,null)}}}},ne=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleCreate=function(){a.props.history.push("/dashboard/hr/create")},a.handleArchive=function(){var e=Object(c.a)(l.a.mark((function e(t,r){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(new Date).getTime(),r.end_date=n,e.next=4,w.updateEmployee(t,a.state.token,r);case 4:a.fetchData(a.state.token);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.handleOpen=function(){var e=Object(c.a)(l.a.mark((function e(t,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.end_date=null,e.next=3,w.updateEmployee(t,a.state.token,r);case 3:a.fetchData(a.state.token);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.state={data:[],token:null},a.fetchData=a.fetchData.bind(Object(h.a)(a)),a.handleCreate=a.handleCreate.bind(Object(h.a)(a)),a.handleArchive=a.handleArchive.bind(Object(h.a)(a)),a.handleOpen=a.handleOpen.bind(Object(h.a)(a)),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("token");this.setState({token:e}),this.fetchData(e)}},{key:"fetchData",value:function(){var e=Object(c.a)(l.a.mark((function e(t){var a,r,s=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.classes,e.next=3,w.getAllEmployees(t);case 3:a=e.sent,r=[],a.forEach(function(){var e=Object(c.a)(l.a.mark((function e(t){var a,i,o,c,u,m,p,d,h;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.employee_id,i=t.first_name,o=t.last_name,c=new Date(t.start_date).toString("MMM dd"),u=t.end_date,m=t.labor_grade_id.labor_grade_id,p=t.supervisor_id,d=null==u?n.a.createElement("p",{style:{color:"green"}}," Currently Employed "):n.a.createElement("p",{style:{color:"red"}}," Archived "),(h=[]).push(a),h.push(i),h.push(o),h.push(c),h.push(d),h.push(m),h.push(p),h.push(n.a.createElement(Q,{link:"/dashboard/hr/".concat(a),id:a,employee:t,handleArchive:s.handleArchive,handleOpen:s.handleOpen})),r.push(h);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.setState({data:r});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(I.a,{className:"datatable",title:n.a.createElement("h1",null," Manage Employees"),options:re(this.props,this.handleCreate),columns:ae,data:this.state.data}))}}]),t}(r.Component),se=Object(T.a)((function(){return{pictureUrl:{width:50}}}),{withTheme:!0})(ne),ie=a(6),oe=(a(519),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={employee_id:null,password:""},a.updateInputValue=a.updateInputValue.bind(Object(h.a)(a)),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"updateInputValue",value:function(e){e.preventDefault(),this.setState(Object(ie.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"loginWrapper"},n.a.createElement("p",{className:"prjMng"},"Project Management"),n.a.createElement("div",{className:"loginContainer"},n.a.createElement("div",{className:"loginHint"},"Login"),n.a.createElement("form",{className:"loginForm",onSubmit:function(t){return e.props.loginHandler(t,{id:e.state.employee_id,password:e.state.password})}},n.a.createElement("div",{className:"loginEmail"},n.a.createElement("input",{className:"loginInputs",name:"employee_id",placeholder:"Employee Id",required:!0,autoFocus:!0,onChange:this.updateInputValue})),n.a.createElement("div",{className:"loginPwd"},n.a.createElement("input",{className:"loginInputs",type:"password",name:"password",placeholder:"Password",required:!0,onChange:this.updateInputValue})),n.a.createElement("div",{className:"loginBsection"},n.a.createElement("button",{className:"loginBtn",type:"submit"}," Login ")))))}}]),t}(r.Component)),le=a(571),ce=a(271),ue=a(162),me=a(64),pe=a(292),de=a.n(pe),he=a(579),be=a(595);function ge(e){var t=n.a.useState(null),a=Object(Z.a)(t,2),r=a[0],s=a[1],i=function(){s(null)};return n.a.createElement("div",null,n.a.createElement(be.a,{variant:"circle",onClick:function(e){s(e.currentTarget)},"aria-controls":"simple-menu","aria-haspopup":"true"}),n.a.createElement(K.a,{id:"simple-menu",anchorEl:r,keepMounted:!0,open:Boolean(r),onClose:i},n.a.createElement(D.b,{to:"/dashboard/profile/".concat(e.loadedUser.employee_id),style:{textDecoration:"none",color:"black"}},n.a.createElement(Y.a,{onClick:i}," Profile ")),n.a.createElement(Y.a,{onClick:i},"My account"),n.a.createElement(D.b,{to:"/",style:{textDecoration:"none",color:"black"}},n.a.createElement(Y.a,{onClick:e.logoutHandler}," Logout ")," ")))}var fe=a(2),je=a(125),ve=a.n(je),Ee=a(14),ke=a(297),ye=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.classes;return n.a.createElement("div",{className:e.search},n.a.createElement("div",{className:e.searchIcon},n.a.createElement(ve.a,null)),n.a.createElement(ke.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"}}))}}]),t}(r.Component),Oe=Object(T.a)((function(e){return{search:Object(ie.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Ee.d)(e.palette.common.black,.15),"&:hover":{backgroundColor:Object(Ee.d)(e.palette.common.black,.15)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",color:"black"},inputRoot:{color:"black"},inputInput:Object(ie.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}})}}),{withTheme:!0})(ye),we=a(293),Ne=a.n(we),Ce=a(594),Se=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.location,a=e.loadedUser,r=t.pathname.split("/"),s=[],i="";return r.splice(0,1),r.forEach((function(e,t){i+="/"+e,s.push(i)})),n.a.createElement("div",null,n.a.createElement(Ce.a,null,s.map((function(e,t){return n.a.createElement("div",{key:t},s.length-1===t?n.a.createElement(D.b,{style:{textDecoration:"none"},key:t,to:e},n.a.createElement(me.a,{color:"textPrimary"}," ",e.split("/")[t+1]," ")):n.a.createElement(D.b,{key:t,to:"".concat(e,"/").concat(a.employee_id)}," ",e.split("/")[t+1]," "))}))))}}]),t}(r.Component),De=Object(x.g)(Se),xe={NAVBAR_EXPANDED_WIDTH:230,NAVBAR_SHRINKED_WIDTH:100,DRAWER_EXPANDED_WIDTH:230,DRAWER_SHRINKED_WIDTH:100},_e=xe.NAVBAR_EXPANDED_WIDTH,Ie=xe.NAVBAR_SHRINKED_WIDTH,Pe=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"resizeNavbar",value:function(e){return n.a.createElement("div",{className:e.root},n.a.createElement(le.a,{position:"fixed",elevation:0,className:Object(fe.a)(e.appBar,Object(ie.a)({},e.appBarShift,this.props.resize))},n.a.createElement(ce.a,null,n.a.createElement(ue.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"open drawer",onClick:this.props.resizeDashboard},this.props.resize?n.a.createElement(de.a,null):n.a.createElement(Ne.a,null)),n.a.createElement(me.a,{className:e.title,variant:"h6",noWrap:!0},n.a.createElement(De,this.props)),n.a.createElement(Oe,null),n.a.createElement(he.a,{className:e.divider,orientation:"vertical",flexItem:!0}),n.a.createElement("h4",{className:e.userName}," ",this.props.loadedUser.first_name," ",this.props.loadedUser.last_name),n.a.createElement(ge,{logoutHandler:this.props.logoutHandler,loadedUser:this.props.loadedUser}))))}},{key:"render",value:function(){var e=this.props.classes;return this.resizeNavbar(e)}}]),t}(r.Component),Te=Object(T.a)((function(e){var t;return{root:{},menuButton:{marginRight:e.spacing(2),color:"black"},title:(t={flexGrow:1,display:"none"},Object(ie.a)(t,e.breakpoints.up("sm"),{display:"block"}),Object(ie.a)(t,"color","black"),t),userName:{color:"black",paddingRight:e.spacing(3)},divider:{marginRight:e.spacing(3),marginLeft:e.spacing(3)},appBar:{zIndex:e.zIndex.drawer+1,backgroundColor:"white",position:"fixed",width:"calc(100% - ".concat(Ie,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:_e,width:"calc(100% - ".concat(_e,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})}}}),{withTheme:!0})(Pe),Ae=a(574),Le=a(59),He=a(582),Re=a(169),Fe=a.n(Re),Me=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.classes;return n.a.createElement(D.b,{className:e.link,to:this.props.link},n.a.createElement(He.a,{container:!0,direction:"row",alignItems:"center",className:e.menuItem},n.a.createElement(He.a,{item:!0},this.props.isMenuLogo?n.a.createElement(be.a,{variant:"circle",className:e.avatar,src:Fe.a}):n.a.createElement(be.a,{variant:"square",className:e.avatar})),n.a.createElement(He.a,{item:!0,onClick:this.props.handleClick},this.props.text&&this.props.resize?n.a.createElement("p",{className:e.text}," ",this.props.text," "):null)))}}]),t}(r.Component),We=Object(T.a)((function(e){return{menuItem:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3),paddingTop:e.spacing(2),paddingBottom:e.spacing(1)},text:{marginLeft:30,color:"black"},link:{textDecoration:"none"}}}),{withTheme:!0})(Me),Be=a(596),Ue=a(580),Ge=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.classes;return n.a.createElement(D.b,{className:e.link,to:this.props.link},n.a.createElement(Ue.a,{className:e.expansionPanelDetails},n.a.createElement(He.a,{container:!0,direction:"row",alignItems:"center"},n.a.createElement(He.a,{item:!0},n.a.createElement(be.a,{variant:"circle",className:e.avatar})),n.a.createElement(He.a,{item:!0},this.props.resize?n.a.createElement("p",{className:e.text},this.props.text):null))))}}]),t}(r.Component),ze=Object(T.a)((function(){return{text:{marginLeft:30,color:"black"},link:{textDecoration:"none"}}}),{withTheme:!0})(Ge),Ve=a(581),Je=a(170),Ze=a.n(Je),Ke=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.classes;return n.a.createElement(Ve.a,{expandIcon:this.props.resize?n.a.createElement(Ze.a,{className:e.materialIconLight}):null,"aria-controls":"panel1a-content",id:"panel1a-header"},n.a.createElement(He.a,{container:!0,direction:"row",alignItems:"center"},n.a.createElement(He.a,{item:!0},n.a.createElement(be.a,{variant:"circle",className:e.avatar})),n.a.createElement(He.a,{item:!0},this.props.resize?n.a.createElement("h4",{className:e.text}," ",this.props.loadedUser.first_name+" "+this.props.loadedUser.last_name," "):null)))}}]),t}(r.Component),Ye=Object(T.a)((function(){return{text:{marginLeft:30,color:"black"}}}),{withTheme:!0})(Ke),qe=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement(Be.a,{elevation:0},n.a.createElement(Ye,{loadedUser:this.props.loadedUser,resize:this.props.resize}),n.a.createElement(ze,{text:"Lead Engineer",resize:this.props.resize,link:"/dashboard/lead"}),n.a.createElement(ze,{text:"Supervisor",resize:this.props.resize,link:"/dashboard/supervisor"}),n.a.createElement(ze,{text:"HR",resize:this.props.resize,link:"/dashboard/hr"}))}}]),t}(r.Component),Xe=Object(T.a)((function(e){return{}}),{withTheme:!0})(qe),Qe=xe.DRAWER_EXPANDED_WIDTH,$e=xe.DRAWER_SHRINKED_WIDTH,et=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e,t,a=this.props,r=a.classes,s=a.loadedUser;return n.a.createElement("div",{className:r.root},n.a.createElement(Ae.a,null),n.a.createElement(Le.a,{variant:"permanent",open:!0,className:Object(fe.a)(r.drawer,(e={},Object(ie.a)(e,r.drawerOpen,this.props.resize),Object(ie.a)(e,r.drawerClose,!this.props.resize),e)),classes:{paper:Object(fe.a)((t={},Object(ie.a)(t,r.drawerOpen,this.props.resize),Object(ie.a)(t,r.drawerClose,!this.props.resize),t))}},n.a.createElement(We,{isMenuLogo:!0,link:"/dashboard/".concat(s.employee_id)}),n.a.createElement(he.a,{className:r.divider}),n.a.createElement(Xe,{loadedUser:this.props.loadedUser,resize:this.props.resize}),n.a.createElement(he.a,{className:r.divider}),n.a.createElement("div",null,n.a.createElement(We,{text:"Dashboard",resize:this.props.resize,link:"/dashboard/".concat(s.employee_id)}),n.a.createElement(We,{text:"Timesheet",resize:this.props.resize,link:"/dashboard/timesheet"}),n.a.createElement(We,{text:"Projects",resize:this.props.resize,link:"/dashboard/projects"}))))}}]),t}(r.Component),tt=Object(T.a)((function(e){return{root:{display:"flex"},toolbar:e.mixins.toolbar,paper:{width:Qe,height:"100%"},divider:{backgroundColor:"light gray",width:"90%",margin:"0 auto"},drawerOpen:{width:Qe,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:{width:$e,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})}}}),{withTheme:!0})(et),at=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.classes;return n.a.createElement("main",{className:e.content},n.a.createElement("div",{className:e.toolbar}),this.props.routes)}}]),t}(r.Component),rt=Object(T.a)((function(e){return{root:{display:"flex"},content:{flexGrow:10,padding:e.spacing(5)},toolbar:e.mixins.toolbar}}),{withTheme:!0})(at),nt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={loaded_user:{},resize:!0,breadCrumbs:a.props.location},a.resizeDashboard=a.resizeDashboard.bind(Object(h.a)(a)),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"resizeDashboard",value:function(){this.setState({resize:!this.state.resize})}},{key:"render",value:function(){var e,t=this,a=this.props.classes,r=n.a.createElement(dr,Object.assign({},this.props,{config:(e="dashboard",{option:e,loadedUser:t.props.loadedUser}),token:this.props.token}));return n.a.createElement(D.a,null,n.a.createElement("div",{className:a.root},n.a.createElement(Te,Object.assign({},this.props.location,{loadedUser:this.props.loadedUser,resizeDashboard:this.resizeDashboard,resize:this.state.resize,logoutHandler:this.props.logoutHandler})),n.a.createElement(tt,{loadedUser:this.props.loadedUser,resizeDashboard:this.resizeDashboard,resize:this.state.resize}),n.a.createElement(rt,{routes:r})))}}]),t}(r.Component),st=Object(T.a)((function(e){return{root:{display:"flex"},toolbar:e.mixins.toolbar}}),{withTheme:!0})(nt),it=a(572),ot=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleClick=function(){console.log("click!",a.props.selectedRows)},a.state={type:e.type},a.handleClick=a.handleClick.bind(Object(h.a)(a)),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,"Mine"===this.state.type&&n.a.createElement(it.a,{variant:"contained",color:"primary","aria-label":"contained primary button group"},n.a.createElement(A.a,{onClick:this.handleClick},"Archive"),n.a.createElement(A.a,null,"Close")),"Archived"===this.state.type&&n.a.createElement(it.a,{variant:"contained",color:"primary","aria-label":"contained primary button group"},n.a.createElement(A.a,null,"Open"),n.a.createElement(A.a,null,"Close")),"Closed"===this.state.type&&n.a.createElement(it.a,{variant:"contained",color:"primary","aria-label":"contained primary button group"},n.a.createElement(A.a,null,"Archive"),n.a.createElement(A.a,null,"Open")))}}]),t}(n.a.Component),lt=(a(520),["ID","Name","Manager"]),ct=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={data:[],type:""},a.options={print:!1,responsive:"scroll",selectableRows:!0,customToolbarSelect:function(e){return n.a.createElement(ot,{selectedRows:e,type:a.state.type})},onRowClick:function(e,t){a.props.history.push({pathname:"/projectDetails",state:{projectID:e[0]}})}},a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({data:e.data,type:e.type})}},{key:"render",value:function(){return n.a.createElement(I.a,{className:"projects",title:"Projects",columns:lt,options:this.options,data:this.state.data})}}]),t}(n.a.Component),ut=(a(521),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={data:[],allProj:[],mineProj:[],archivedProj:[],closedProj:[],type:"All"},a.setData=a.setData.bind(Object(h.a)(a)),a.allProjects=a.allProjects.bind(Object(h.a)(a)),a.mineProjects=a.mineProjects.bind(Object(h.a)(a)),a.archivedProjects=a.archivedProjects.bind(Object(h.a)(a)),a.closedProjects=a.closedProjects.bind(Object(h.a)(a)),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(c.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setData();case 2:this.allProjects();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"allProjects",value:function(){this.setState({data:this.state.allProj,type:"All"})}},{key:"mineProjects",value:function(){this.setState({data:this.state.mineProj,type:"Mine"})}},{key:"archivedProjects",value:function(){this.setState({data:this.state.archivedProj,type:"Archived"})}},{key:"closedProjects",value:function(){this.setState({data:this.state.closedProj,type:"Closed"})}},{key:"setData",value:function(){var e=Object(c.a)(l.a.mark((function e(){var t,a,r,n,s,i,o,c,u,m,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(sessionStorage.getItem("user")),a=localStorage.getItem("token"),r=t.employee_id,console.log(t),e.next=6,C.getProjectsForUser(r,a);case 6:for(n=e.sent,console.log(n),s=[],i=[],o=[],c=[],u=[],m=0;m<n.length;m++)s=[],console.log(n[m]),s.push(n[m].project_code),s.push(n[m].project_name),p=n[m].project_manager_id.first_name+" "+n[m].project_manager_id.last_name,s.push(p),n[m].project_manager_id.employee_id===parseInt(r)&&o.push(s),"COMPLETE"===n[m].status&&u.push(s),"ARCHIVED"===n[m].status&&c.push(s),i.push(s);this.setState({allProj:i,mineProj:o,closedProj:u,archivedProj:c});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(He.a,{justify:"space-between",container:!0,spacing:1,className:"btnProjects"},n.a.createElement(He.a,{item:!0},n.a.createElement(it.a,{variant:"contained",color:"primary","aria-label":"contained primary button group"},n.a.createElement(A.a,{onClick:this.allProjects},"All"),n.a.createElement(A.a,{onClick:this.mineProjects},"Mine"),n.a.createElement(A.a,{onClick:this.archivedProjects},"Archived"),n.a.createElement(A.a,{onClick:this.closedProjects},"Closed"))),n.a.createElement(He.a,{item:!0},n.a.createElement(A.a,{variant:"contained",color:"secondary",component:D.b,to:"/createProject"},"+ Create"))),n.a.createElement(ct,{data:this.state.data,type:this.state.type,history:this.props.history}))}}]),t}(n.a.Component)),mt=a(40),pt=a(262),dt=a(587),ht=a(585),bt=a(586),gt=a(277),ft=(a(279),Object(pt.a)((function(e){return{projInfo:{width:"280px"}}}))),jt=function(e){var t=ft();return n.a.createElement("form",{autoComplete:"off"},n.a.createElement(gt.a,Object(ie.a)({component:"span",className:"margin",label:"Project ID",name:"projectID",value:e.projectID,onChange:e.handleChange},"className",t.projInfo)),n.a.createElement("br",null),n.a.createElement(gt.a,Object(ie.a)({component:"span",className:"margin",label:"Project Name",name:"projectName",value:e.projectName,onChange:e.handleChange},"className",t.projInfo)),n.a.createElement("br",null),n.a.createElement(gt.a,Object(ie.a)({component:"span",className:"margin",label:"Project Manager",name:"projectManager",value:e.projectManager,onChange:e.handleChange},"className",t.projInfo)))},vt=(a(196),function(e){var t={projDesc:{width:"310px"}};return n.a.createElement("form",{autoComplete:"off"},n.a.createElement(gt.a,{className:t.projDesc,id:"outlined-multiline-static",label:"Project Description",multiline:!0,rows:"8",variant:"outlined",name:"projectDesc",value:e.Desc,onChange:e.handleChange}))}),Et=function(e){var t={budgetInfo:{width:"280px"}};return n.a.createElement("form",{autoComplete:"off"},n.a.createElement(gt.a,Object(ie.a)({component:"span",className:"margin",id:"standard-basic",label:"Cost",value:e.cost,name:"cost",onChange:e.handleChange},"className",t.budgetInfo)))},kt=a(295),yt=a(42),Ot=a(592),wt=Object(pt.a)((function(e){return{scheduleInfo:{width:"280px"}}})),Nt=function(e){var t=wt(),a=Object(r.useState)({}),s=Object(Z.a)(a,2),i=(s[0],s[1],Object(r.useState)({})),o=Object(Z.a)(i,2);o[0],o[1];return n.a.createElement("form",{autoComplete:"off"},n.a.createElement(yt.a,{utils:kt.a},n.a.createElement(Ot.a,{disableToolbar:!0,variant:"inline",format:"yyyy-MM-dd",margin:"normal",label:"Start Date",name:"startDate",value:e.startDate,onChange:e.handleStartChange,className:t.scheduleInfo}),n.a.createElement("br",null),n.a.createElement(Ot.a,{disableToolbar:!0,variant:"inline",format:"yyyy-MM-dd",margin:"normal",label:"End Date",name:"endDate",value:e.endDate,onChange:e.handleEndChange,className:t.scheduleInfo})))},Ct=Object(pt.a)((function(e){return{root:{width:"1100px"},stepper:{padding:"40px 0",border:"1px solid lightgray"},backButton:{margin:"0 7px 0 0"},nextButton:{margin:"0 0 0 7px"},instructionsContainer:{display:"flex",justifyContent:"center",padding:"25px 0"},instructions:{backgroundColor:"white",width:"400px",display:"flex",justifyContent:"center",alignItems:"center",height:"280px",padding:"0 0 10px 0",borderTop:"3px solid lightgray"},backNextButtonContainer:{display:"flex",justifyContent:"center",margin:"20px 0 0 0"},endMessage:{display:"flex",flexDirection:"column"},createProjAgain:{margin:"15px 0",padding:"15px"}}}));function St(){var e=Ct(),t=JSON.parse(sessionStorage.getItem("user")),a=Object(r.useState)({projectID:"",projectName:"",projectManager:t.first_name+" "+t.last_name,projectDesc:"",startDate:new Date,endDate:new Date,cost:""}),s=Object(Z.a)(a,2),i=s[0],o=s[1],u=function(){var e=Object(c.a)(l.a.mark((function e(){var a,r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("token"),console.log(a),r={project_code:i.projectID,project_manager_id:{employee_id:t.employee_id},project_name:i.projectName,status:"OPEN",start_date:i.startDate.toISOString().split("T",1)[0],end_date:i.endDate.toISOString().split("T",1)[0],description:i.projectDesc,budget_dollar:i.cost,employees:[{employee_id:t.employee_id}]},console.log(r),e.next=6,C.createProject(r,a);case 6:n=e.sent,console.log(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=n.a.useState(0),p=Object(Z.a)(m,2),d=p[0],h=p[1],b=["Project Information","Project Description","Budget","Schedule"];return n.a.createElement("div",{className:e.root},n.a.createElement(dt.a,{activeStep:d,alternativeLabel:!0,className:e.stepper},b.map((function(e){return n.a.createElement(ht.a,{key:e},n.a.createElement(bt.a,null,e))}))),n.a.createElement("div",{className:e.instructionsContainer},d===b.length?n.a.createElement("div",{className:e.endMessage},n.a.createElement(me.a,{component:"span",className:e.instructions},"Project Created."),n.a.createElement(A.a,{onClick:function(){h(0)}},"Create another project")):n.a.createElement("div",null,n.a.createElement(me.a,{component:"span",className:e.instructions},function(e,t,a,r,s){switch(e){case 0:return n.a.createElement(jt,{projectID:t.projectID,projectName:t.projectName,projectManager:t.projectManager,handleChange:a});case 1:return n.a.createElement(vt,{Desc:t.projectDesc,handleChange:a});case 2:return n.a.createElement(Et,{cost:t.cost,handleChange:a});case 3:return n.a.createElement(Nt,{startDate:t.startDate,endDate:t.endDate,handleStartChange:r,handleEndChange:s});default:return n.a.createElement(n.a.Fragment,null)}}(d,i,(function(e){var t=e.target,a=t.name,r=t.value;o(Object(mt.a)({},i,Object(ie.a)({},a,r)))}),(function(e){o(Object(mt.a)({},i,{startDate:e}))}),(function(e){o(Object(mt.a)({},i,{endDate:e}))}))),n.a.createElement("div",{className:e.backNextButtonContainer},n.a.createElement(A.a,{disabled:0===d,onClick:function(){h((function(e){return e-1}))},className:e.backButton},"Back"),d===b.length-1&&n.a.createElement(A.a,{variant:"contained",color:"primary",onClick:u,className:e.nextButton},"Finish"),d!=b.length-1&&n.a.createElement(A.a,{variant:"contained",color:"primary",onClick:function(){h((function(e){return e+1}))}},"Next")))))}var Dt=a(80),xt=a(130),_t=(a(522),a(272)),It=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).gotoProjectDetail=a.gotoProjectDetail.bind(Object(h.a)(a)),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"gotoProjectDetail",value:function(){this.props.history.push({pathname:"/projectDetails",state:{projectID:this.props.projName}})}},{key:"render",value:function(){var e=this,t=this.props.classes;return n.a.createElement(Dt.a,{className:t.projDetail,elevation:2,onClick:function(){return e.gotoProjectDetail()}},n.a.createElement("div",{className:t.projName},this.props.projName),n.a.createElement("div",{className:t.dueDateRow},n.a.createElement("div",{className:t.dueDate},"Due Date:"),n.a.createElement("div",{className:t.dueDateVal},"\xa0\xa0\xa0",this.props.dueDate)),n.a.createElement("div",{className:t.projManagerRow},n.a.createElement("img",{className:t.circleStyle,src:Fe.a,alt:"Logo"}),n.a.createElement("div",{className:t.projManagerName},this.props.projManagerName)))}}]),t}(r.Component),Pt=Object(T.a)((function(){return{root:{backgroundColor:_t.a},projDetail:{width:"90%",height:"105px",margin:"25px auto"},projName:{fontWeight:"bold",margin:"2px 0 0 5px"},dueDateRow:{margin:"8px 0 0 10px"},dueDate:{color:"grey",float:"left"},dueDateVal:{marginLeft:"5px"},projManagerRow:{margin:"10px 0 0 20px",color:"darkGrey"},circleStyle:{display:"inline-block",borderRadius:"50%",width:35,height:35,float:"left"},projManagerName:{margin:"10px 0 0 15px",float:"left"}}}),{withTheme:!0})(It),Tt=(a(523),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={loadedUser:{},projects:[]},a.getProject=a.getProject.bind(Object(h.a)(a)),a.formatWeekEnding=a.formatWeekEnding.bind(Object(h.a)(a)),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"formatWeekEnding",value:function(e){var t=new Date(e),a=t.getFullYear(),r=t.getMonth(),n=("0"+t.getDate()).slice(-2);return["January","February","March","April","May","June","July","August","September","October","November","December"][r]+" "+n+", "+a}},{key:"getProject",value:function(e,t){e.sort((function(e,t){return t.end_date-e.end_date})),this.setState({projects:e,loadedUser:t}),0==this.state.projects.length&&(document.getElementById("recentNewProjTitle").innerHTML="You don't have any projects")}},{key:"render",value:function(){var e=this,t=this.props.classes;return n.a.createElement("div",{className:t.root},n.a.createElement("div",{className:t.topContainer},n.a.createElement(Dt.a,{className:t.leftPaper,elevation:2},n.a.createElement("div",{className:t.projTitle,id:"recentNewProjTitle"},"Recent / New Projects"),0==this.state.projects.length?"":this.state.projects.map((function(t,a){return n.a.createElement(Pt,{key:t.project_code,history:e.props.history,projName:t.project_code,dueDate:e.formatWeekEnding(t.end_date),projManagerName:t.project_manager_id.first_name+" "+t.project_manager_id.last_name})}))),n.a.createElement("div",null,n.a.createElement("div",{id:"timesheetDetailContainer",className:t.timesheetDetailContainer},n.a.createElement(J,{fetchProject:this.getProject,history:this.props.history,dashboardTimesheet:!0,userId:this.props.match.params.id,token:this.props.token})),n.a.createElement("div",{className:t.flexVancationContainer},n.a.createElement(Dt.a,{className:t.rightBottomLeftPaper,elevation:2},n.a.createElement("div",{className:t.title},"Flextime"),n.a.createElement("hr",{className:t.seperator}),n.a.createElement(xt.a,{className:t.CircularProgressbar,value:66,text:"".concat(66,"%"),styles:Object(xt.b)({strokeLinecap:"butt",textSize:"13px",pathTransitionDuration:3,pathColor:"rgba(62, 152, 199, ".concat(.66,")"),textColor:"#f88",trailColor:"#d6d6d6",backgroundColor:"#3e98c7"})})),n.a.createElement(Dt.a,{className:t.rightBottomRightPaper,elevation:2},n.a.createElement("div",{className:t.title},"Vacation Days"),n.a.createElement("hr",{className:t.seperator}),n.a.createElement(xt.a,{className:t.CircularProgressbar,value:50,text:"".concat(50,"%"),styles:Object(xt.b)({strokeLinecap:"butt",textSize:"13px",pathTransitionDuration:3,pathColor:"rgba(62, 152, 199, ".concat(.5,")")})}))))))}}]),t}(r.Component)),At=Object(T.a)((function(){var e;return{root:{flexGrow:1},leftPanelContainer:{width:"360px"},leftPaper:(e={overflow:"scroll",maxHeight:"500px"},Object(ie.a)(e,"overflow","auto"),Object(ie.a)(e,"width","310px"),Object(ie.a)(e,"margin","0 20px 0 0"),Object(ie.a)(e,"boxShadow","none"),Object(ie.a)(e,"border","solid 1px lightgray"),Object(ie.a)(e,"borderRadius","5px"),e),rightTopPaper:{height:500},rightBottomLeftPaper:{height:220,textAlign:"center",margin:"0 20px 0 0",boxShadow:"none",border:"solid 1px lightgray",borderRadius:"5px"},rightBottomRightPaper:{height:220,textAlign:"center",boxShadow:"none",border:"solid 1px lightgray",borderRadius:"5px",marginLeft:"20px"},title:{display:"flex",justifyContent:"center",alignItems:"center",fontWeight:"bold",margin:"10px 0 0 0"},seperator:{borderTop:"1px solid lightgray"},projTitle:{margin:"20px 0 0 20px",fontWeight:700},CircularProgressbar:{width:"40%",marginTop:"18px"},topContainer:{display:"flex"},flexVancationContainer:{display:"flex",margin:"22px 0 0 4px"},timesheetDetailContainer:{border:"solid 1px lightgray",minWidth:"1000px",textAlign:"center",height:"500px",fontSize:"18pt",borderRadius:"5px"},projsInfo:{textAlign:"center"}}}),{withTheme:!0})(Tt),Lt=function(e){function t(){var e,a;Object(u.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).clickAssign=function(){a.props.history.push("/dashboard/supervisor/assign"),console.log("assign an employee!")},a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.classes;return n.a.createElement(n.a.Fragment,null,n.a.createElement(P.a,{title:"Assign an employee to a project"},n.a.createElement(A.a,{className:e.iconButton,onClick:this.clickAssign,color:"primary",variant:"contained"},"Assign")))}}]),t}(n.a.Component),Ht=Object(T.a)({iconButton:{marginLeft:30}},{name:"CustomToolbar"})(Lt),Rt=[{name:"employeeId",label:"Employee ID",className:"column"},{name:"firstName",label:"First Name",className:"column"},{name:"lastName",label:"Last Name",className:"column"}],Ft=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={data:[]},a.fetchData=a.fetchData.bind(Object(h.a)(a)),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"getEmployees",value:function(){var e=Object(c.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),a=w.getAllEmployees(t),e.abrupt("return",a);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchData",value:function(){var e=Object(c.a)(l.a.mark((function e(){var t,a,r,n,s,i,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.classes,console.log(this.props),e.next=4,this.getEmployees();case 4:for(t=e.sent,a=[],r=0;r<t.length;r++)n=t[r].employee_id,s=t[r].first_name,i=t[r].last_name,(o=[]).push(n),o.push(s),o.push(i),a.push(o);this.setState({data:a});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;this.props.classes;return n.a.createElement("div",null,n.a.createElement(I.a,{className:"datatable",title:n.a.createElement("h1",null,"Employees"),options:(this.props,{selectableRows:!1,search:!0,print:!1,download:!1,filter:!1,customToolbar:function(){return n.a.createElement(Ht,{history:e.props.history})},onRowClick:function(t,a){e.props.history.push("/dashboard/supervisor/".concat(t[0]))}}),columns:Rt,data:this.state.data}))}}]),t}(r.Component),Mt=a(593),Wt=Object(pt.a)((function(e){return{root:{flexGrow:1},supervisorMargin:{margin:10},supervisorPaper:{height:750,padding:50},supervisorButton:{width:"fit-content"}}})),Bt=function(e){var t=Wt(),a=localStorage.getItem("token"),s=n.a.useState(),i=Object(Z.a)(s,2),o=i[0],u=i[1],m=n.a.useState(),p=Object(Z.a)(m,2),d=p[0],h=p[1],b=n.a.useState(),g=Object(Z.a)(b,2),f=g[0],j=g[1],v=n.a.useState(),E=Object(Z.a)(v,2),k=E[0],y=E[1],O=function(){var e=Object(c.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.getAllProjects(a);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(c.a)(l.a.mark((function e(){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(sessionStorage.getItem("user")),e.next=3,w.getEmployeesBySupervisor(t.supervisor_id,a);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){function e(){return(e=Object(c.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=j,e.next=3,O();case 3:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=y,e.next=8,N();case 8:e.t3=e.sent,(0,e.t2)(e.t3);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var S=function(){var e=Object(c.a)(l.a.mark((function e(){var t,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=localStorage.getItem("token"),console.log(t),a=0;a<d.length;a++)o.employees.push(d[a]);r=C.assignToProject(o,t),console.log(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:t.root},n.a.createElement(Dt.a,{className:t.supervisorPaper,elevation:2},n.a.createElement(He.a,{container:!0,direction:"column"},n.a.createElement(me.a,{variant:"h4"},"Assign To Project"),n.a.createElement(he.a,{className:"supervisorMargin"}),n.a.createElement(Mt.a,{className:t.supervisorMargin,options:f,getOptionLabel:function(e){return e.project_code},style:{width:700},onChange:function(e,t){return u(t)},renderInput:function(e){return n.a.createElement(gt.a,Object.assign({},e,{variant:"standard",label:"Project ID"}))}}),n.a.createElement(Mt.a,{multiple:!0,className:t.supervisorMargin,options:k,getOptionLabel:function(e){return e.first_name+" "+e.last_name},style:{width:700},onChange:function(e,t){return h(t)},renderInput:function(e){return n.a.createElement(gt.a,Object.assign({},e,{variant:"standard",label:"Add employees",placeholder:"Search for an employee"}))}}),n.a.createElement(A.a,{variant:"contained",color:"primary",onClick:S,style:{width:700}},"Assign"))))},Ut=[{name:"projectId",label:"Project ID",className:"column"},{name:"projectName",label:"Project Name",className:"column"},{name:"projectManager",label:"Project Manager",className:"column"}],Gt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={data:[]},a.fetchData=a.fetchData.bind(Object(h.a)(a)),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"getProjects",value:function(){var e=Object(c.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),a=C.getProjectsForUser(this.props.match.params.id,t),e.abrupt("return",a);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchData",value:function(){var e=Object(c.a)(l.a.mark((function e(){var t,a,r,n,s,i,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.classes,console.log(this.props),e.next=4,this.getProjects();case 4:for(t=e.sent,console.log(t),a=[],r=0;r<t.length;r++)n=t[r].project_code,s=t[r].project_name,i=t[r].project_manager_id.first_name+" "+t[r].project_manager_id.last_name,(o=[]).push(n),o.push(s),o.push(i),a.push(o);this.setState({data:a});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(I.a,{className:"datatable",title:n.a.createElement("h1",null,"Projects Assigned To"),options:(this.props,{selectableRows:!1,search:!0,print:!1,download:!1,filter:!1}),columns:Ut,data:this.state.data}))}}]),t}(r.Component),zt=a(284),Vt=a(48),Jt=a.n(Vt),Zt=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,r=t.loadedUser;return n.a.createElement(n.a.Fragment,null,r?n.a.createElement(He.a,{item:!0,xs:2,className:a.container},n.a.createElement(be.a,{className:a.avatar,alt:"employee photo"},n.a.createElement(Jt.a,{className:a.faceIcon})),n.a.createElement("div",{className:a.textContainer},n.a.createElement(me.a,{className:a.textHeader},"Employee ID"),n.a.createElement(gt.a,{className:a.text,name:"employeeId",onChange:function(t){return e.props.formHandler(t)},disabled:!this.props.hr,defaultValue:r.employee_id,fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0}})),n.a.createElement("div",{className:a.textContainerChips},this.props.isHr?n.a.createElement(zt.a,{className:a.chip,icon:n.a.createElement(Jt.a,null),label:"HR"}):null,this.props.isAdmin?n.a.createElement(zt.a,{className:a.chip,icon:n.a.createElement(Jt.a,null),label:"Admin"}):null,this.props.isSuperTimesheetApprover?n.a.createElement(zt.a,{className:a.chip,icon:n.a.createElement(Jt.a,null),label:"Super Timesheet Approver"}):null)):null)}}]),t}(r.Component),Kt=Object(T.a)((function(){var e;return e={container:{marginTop:20},avatar:{marginTop:30,marginBottom:20,width:100,height:100,margin:"0 auto"},textContainer:{margin:"0 auto",width:120,padding:10},textHeader:{color:"gray"},text:{borderBottom:"1px solid lightgray"},chip:{margin:5},textContainerChips:{margin:"0 auto",width:135,height:100,marginTop:15}},Object(ie.a)(e,"avatar",{width:100,height:100,margin:"0 auto"}),Object(ie.a)(e,"faceIcon",{width:"100%",height:"100%"}),e}),{withTheme:!0})(Zt),Yt=a(575),qt=a(576),Xt=a(577),Qt=a(578),$t=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.state={open:!1,employees:[],searchList:[]},a.handleClickOpen=a.handleClickOpen.bind(Object(h.a)(a)),a.handleClose=a.handleClose.bind(Object(h.a)(a)),a.createData=a.createData.bind(Object(h.a)(a)),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"createData",value:function(e,t,a,r){return{image:e,id:t,name:a,select:r}}},{key:"fetchData",value:function(){var e=Object(c.a)(l.a.mark((function e(){var t,a,r=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,w.getAllEmployees(t);case 3:a=e.sent,this.setState({searchList:a}),a.forEach((function(e){r.state.employees.push(r.createData(n.a.createElement(Jt.a,null),e.employee_id,e.first_name+" "+e.last_name,n.a.createElement(A.a,{style:{marginLeft:"20px"},variant:"outlined",color:"primary",onClick:function(){r.props.selectSupervisor(e.employee_id,e.first_name,e.last_name),r.handleClose()}}," Select")))}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes;return n.a.createElement("div",null,n.a.createElement(A.a,{disabled:!this.props.hr,variant:"outlined",color:"primary",className:e.button,onClick:this.handleClickOpen},"Choose Supervisor"),n.a.createElement(Yt.a,{className:e.container,disableBackdropClick:!0,disableEscapeKeyDown:!0,open:this.state.open,onClose:this.handleClose},n.a.createElement(Qt.a,null,"Select a Supervisor"),n.a.createElement(Xt.a,null,n.a.createElement(Mt.a,{disableClearable:!0,options:this.state.searchList.map((function(e){return e.first_name+" "+e.last_name})),renderInput:function(e){return n.a.createElement(gt.a,Object.assign({},e,{label:"Search for a Supervisor",margin:"normal",variant:"outlined",name:"name",InputProps:Object(mt.a)({},e.InputProps,{type:"search"})}))}}),n.a.createElement(M.a,{className:e.table},n.a.createElement(G.a,null,n.a.createElement(z.a,null,n.a.createElement(B.a,null," Photo "),n.a.createElement(B.a,null," ID "),n.a.createElement(B.a,null," Name "),n.a.createElement(B.a,null," Select "))),n.a.createElement(W.a,null,this.state.employees.map((function(e,t){return n.a.createElement(z.a,{key:t},n.a.createElement(B.a,{align:"left"},e.image),n.a.createElement(B.a,{align:"left"},e.id),n.a.createElement(B.a,{align:"left"},"".concat(e.name)),n.a.createElement(B.a,{align:"left"},e.select))}))))),n.a.createElement(qt.a,null,n.a.createElement(A.a,{onClick:this.handleClose,color:"primary"},"Cancel"),n.a.createElement(A.a,{onClick:this.handleClose,color:"primary"},"Ok"))))}}]),t}(r.Component),ea=Object(T.a)((function(e){return{container:{height:700},minWidth:650,button:{marginBottom:10,display:"inline-block",width:210}}}),{withTheme:!0})($t),ta=function(e){function t(e){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).call(this,e))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,r=t.supervisor;return n.a.createElement(n.a.Fragment,null,r?n.a.createElement(He.a,{item:!0,xs:4,className:a.container},n.a.createElement("div",{className:a.field},n.a.createElement(me.a,{className:a.title,variant:"h6"}," Basic Information "),n.a.createElement(gt.a,{className:a.input,disabled:!this.props.hr,defaultValue:this.props.loadedUser.first_name,helperText:"First Name",onChange:function(t){return e.props.formHandler(t)},name:"firstName",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0}}),n.a.createElement(gt.a,{className:a.input,disabled:!this.props.hr,defaultValue:this.props.loadedUser.last_name,helperText:"Last Name",name:"lastName",onChange:function(t){return e.props.formHandler(t)},fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0}})),n.a.createElement("div",{className:a.field},n.a.createElement(me.a,{className:a.title,variant:"h6"}," Labor Grade "),n.a.createElement(gt.a,{className:a.input,disabled:!this.props.hr,defaultValue:this.props.loadedUser.labor_grade_id.labor_grade_id,helperText:"Grade",name:"laborGradeId",onChange:function(t){return e.props.formHandler(t)},fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0}})),n.a.createElement("div",{className:a.field},n.a.createElement(He.a,{container:!0,spacing:1,className:a.container},n.a.createElement(He.a,{item:!0,xs:6},n.a.createElement(ea,{hr:this.props.hr,selectSupervisor:this.props.selectSupervisor})),n.a.createElement(He.a,{item:!0,xs:6},n.a.createElement(zt.a,{className:a.chip,icon:n.a.createElement(Jt.a,null),label:this.props.supervisorName}))))):null)}}]),t}(r.Component),aa=Object(T.a)((function(){return{title:{marginBottom:5},paper:{height:600},input:{display:"inline-block",width:"90%"},field:{marginTop:50},avatar:{display:"inline-block",marginRight:"5%"},inputSupervisor:{width:"77%"}}}),{withTheme:!0})(ta),ra=function(e){function t(e){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).call(this,e))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return n.a.createElement(n.a.Fragment,null,n.a.createElement(He.a,{item:!0,xs:4,className:t.container},n.a.createElement("div",{className:t.field},n.a.createElement(me.a,{className:t.title,variant:"h6"}," Change Password "),n.a.createElement(gt.a,{className:t.input,name:"oldPassword",type:"password",helperText:"Old Password",fullWidth:!0,onChange:function(t){return e.props.formHandler(t)},margin:"normal",InputLabelProps:{shrink:!0}}),n.a.createElement(gt.a,{className:t.input,name:"newPassword",type:"password",helperText:"New Password",fullWidth:!0,onChange:function(t){return e.props.formHandler(t)},margin:"normal",InputLabelProps:{shrink:!0}}),n.a.createElement(gt.a,{className:t.input,name:"confirmPassword",type:"password",helperText:"Confirm New Password",fullWidth:!0,onChange:function(t){return e.props.formHandler(t)},margin:"normal",InputLabelProps:{shrink:!0}})),n.a.createElement(A.a,{variant:"contained",color:"primary",className:t.button,onClick:this.props.handleSubmit},"Submit")))}}]),t}(r.Component),na=Object(T.a)((function(){return{container:{marginTop:20},title:{marginBottom:5},input:{display:"block",width:"90%"},field:{marginTop:30},button:{width:"90%",marginTop:20}}}),{withTheme:!0})(ra),sa=a(213),ia=function(e){function t(e){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).call(this,e))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement(sa.SnackbarProvider,{preventDuplicate:!0},n.a.createElement((function(){var t,a,r=e.props.config,s=Object(sa.useSnackbar)().enqueueSnackbar;return n.a.createElement(n.a.Fragment,null,(t=r.message,a=r.variant,void s(t,{variant:a,autoHideDuration:2e3})))}),this.props))}}]),t}(r.Component),oa=a(280),la=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={loadedUser:null,supervisor:null,isAdmin:!1,isHr:!1,isSuperTimesheetApprover:!1,marks:oa,laborGradeId:"",laborGradeName:"",supervisorSelected:!1,supervisorFirstName:"",supervisorLastName:""},a.fetchData=a.fetchData.bind(Object(h.a)(a)),a.formHandler=a.formHandler.bind(Object(h.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a.selectSupervisor=a.selectSupervisor.bind(Object(h.a)(a)),a.laborGradeFilter=a.laborGradeFilter.bind(Object(h.a)(a)),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("token");this.fetchData(e),this.laborGradeFilter(),this.setState({errorAlert:!1,successAlert:!1})}},{key:"selectSupervisor",value:function(e,t,a){this.setState({supervisorId:e,supervisorFirstName:t,supervisorLastName:a})}},{key:"formHandler",value:function(e){e.preventDefault(),this.setState(Object(ie.a)({},e.target.name,e.target.value)),this.state.newPassword.length>0&&this.state.confirmPassword.length>0&&this.setState({passwordChange:!0})}},{key:"laborGradeFilter",value:function(){var e=this;this.state.marks.forEach((function(t,a){e.state.laborGradeId==t.label&&e.setState({laborGradeName:t.name})}))}},{key:"handleSubmit",value:function(){var e=Object(c.a)(l.a.mark((function e(){var t,a,r,n,s,i,o,c,u,m,p,d,h=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,a=t.firstName,r=t.lastName,n=t.laborGradeId,s=t.laborGradeName,i=t.supervisorId,o=t.oldPassword,c=t.newPassword,u=t.confirmPassword,m=t.passwordChange,p=localStorage.getItem("token"),d=this.state.loadedUser,!m){e.next=19;break}if(o==d.password&&c==u){e.next=8;break}this.setState({errorAlert:!0,successAlert:!1}),e.next=17;break;case 8:return d.first_name=a,d.last_name=r,d.labor_grade_id.labor_grade_id=n,d.labor_grade_id.labor_grade_name=s,d.supervisor_id=i,d.password=c,e.next=16,w.updateEmployee(this.props.loadedUser.employee_id,p,d);case 16:this.setState({successAlert:!0,errorAlert:!1});case 17:e.next=29;break;case 19:if(m){e.next=29;break}return d.first_name=a,d.last_name=r,d.labor_grade_id.labor_grade_id=n,d.labor_grade_id.labor_grade_name=s,d.supervisor_id=i,e.next=27,w.updateEmployee(this.props.loadedUser.employee_id,p,d);case 27:e.sent,this.setState({successAlert:!0,errorAlert:!1});case 29:setTimeout((function(){h.setState({successAlert:!1,errorAlert:!1})}),1e3);case 30:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchData",value:function(){var e=Object(c.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.getEmployeeById(this.props.match.params.id,t);case 2:return a=e.sent,this.setState({loadedUser:a,firstName:a.first_name,lastName:a.last_name,laborGradeId:a.labor_grade_id.labor_grade_id,supervisorId:a.supervisor_id,isAdmin:a.is_admin,isHr:a.is_hr_staff,isSuperTimesheetApprover:a.is_super_timesheet_approver,oldPassword:"",newPassword:"",confirmPassword:""}),e.next=6,w.getEmployeeById(a.supervisor_id,t);case 6:r=e.sent,this.setState({supervisor:r,supervisorFirstName:r.first_name,supervisorLastName:r.last_name});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.hr,r=this.state,s=r.loadedUser,i=r.supervisor;return n.a.createElement("div",{className:t.root},this.state.errorAlert?n.a.createElement(ia,{config:{message:"error",variant:"error"}}):null,this.state.successAlert?n.a.createElement(ia,{config:{message:"success",variant:"success"}}):null,s&&i?n.a.createElement(Dt.a,{className:t.paper,elevation:2},n.a.createElement(He.a,{container:!0,spacing:1},n.a.createElement(Kt,{loadedUser:s,isHr:this.state.isHr,isAdmin:this.state.isAdmin,isSuperTimesheetApprover:this.state.isSuperTimesheetApprover}),n.a.createElement(he.a,{orientation:"vertical",flexItem:!0,className:t.divider}),n.a.createElement(aa,{loadedUser:s,supervisor:i,hr:a,formHandler:this.formHandler,value:this.state.value,selectSupervisor:this.selectSupervisor,supervisorName:"".concat(this.state.supervisorFirstName," ").concat(this.state.supervisorLastName)}),n.a.createElement(he.a,{orientation:"vertical",flexItem:!0,className:t.divider}),n.a.createElement(na,{loadedUser:s,hr:a,formHandler:this.formHandler,handleSubmit:this.handleSubmit}))):null)}}]),t}(r.Component),ca=Object(T.a)((function(){return{root:{flexGrow:1},paper:{height:750},divider:{margin:45,height:690}}}),{withTheme:!0})(la),ua=a(588),ma=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return n.a.createElement(n.a.Fragment,null,n.a.createElement(He.a,{item:!0,xs:2,className:t.container},n.a.createElement(be.a,{className:t.avatar,alt:"employee photo"},n.a.createElement(Jt.a,{className:t.faceIcon})),n.a.createElement("div",{className:t.textContainer},n.a.createElement(me.a,{className:t.textHeader},"Employee ID"),n.a.createElement(gt.a,{className:t.text,name:"employeeId",onChange:function(t){return e.props.formHandler(t)},disabled:!0,fullWidth:!0,InputLabelProps:{shrink:!0}})),n.a.createElement("div",{className:t.textContainer},n.a.createElement(me.a,{className:t.textHeaderRole},"Role"),n.a.createElement(He.a,{container:!0,spacing:1},n.a.createElement(He.a,{item:!0,xs:6},n.a.createElement("p",null,"HR")),n.a.createElement(He.a,{item:!0,xs:6},n.a.createElement(ua.a,{checked:this.props.isHr,name:"isHr",color:"primary",onClick:this.props.isHrSwitch})),n.a.createElement(He.a,{item:!0,xs:6},n.a.createElement("p",null,"Admin")),n.a.createElement(He.a,{item:!0,xs:6},n.a.createElement(ua.a,{checked:this.props.isAdmin,name:"isHr",color:"primary",onClick:this.props.isAdminSwitch})),n.a.createElement(He.a,{item:!0,xs:6},n.a.createElement("p",null,"Super Timesheet Approver")),n.a.createElement(He.a,{item:!0,xs:6},n.a.createElement(ua.a,{checked:this.props.isSuperTimesheetApprover,name:"isHr",color:"primary",onClick:this.props.isSuperTimesheetApproverSwitch}))))))}}]),t}(r.Component),pa=Object(T.a)((function(){return{container:{marginTop:20},avatar:{width:100,height:100,margin:"0 auto"},textContainer:{margin:"0 auto",width:135},textHeader:{color:"black",marginBottom:10,marginTop:10},textHeaderRole:{marginTop:50,marginBottom:25},text:{borderBottom:"1px solid lightgray"},faceIcon:{width:"100%",height:"100%"},switch:{color:"green",marginLeft:100}}}),{withTheme:!0})(ma),da=function(e){function t(e){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).call(this,e))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return n.a.createElement(n.a.Fragment,null,n.a.createElement(He.a,{item:!0,xs:4,className:t.container},n.a.createElement("div",{className:t.field},n.a.createElement(me.a,{className:t.title,variant:"h6"}," Basic Information "),n.a.createElement(gt.a,{className:t.input,disabled:!this.props.hr,helperText:"First Name",onChange:function(t){return e.props.formHandler(t)},name:"firstName",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0}}),n.a.createElement(gt.a,{className:t.input,disabled:!this.props.hr,helperText:"Middle Name",onChange:function(t){return e.props.formHandler(t)},name:"middleName",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0}}),n.a.createElement(gt.a,{className:t.input,disabled:!this.props.hr,helperText:"Last Name",name:"lastName",onChange:function(t){return e.props.formHandler(t)},fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0}})),n.a.createElement("div",{className:t.field},n.a.createElement(me.a,{className:t.title,variant:"h6"}," Labor Grade "),n.a.createElement(gt.a,{className:t.input,disabled:!this.props.hr,defaultValue:this.props.laborGradeId,helperText:"Labor Grade",name:"laborGradeId",onChange:function(t){return e.props.formHandler(t)},fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0}})),n.a.createElement("div",{className:t.field},n.a.createElement(me.a,{className:t.title,variant:"h6"},"Supervisor"),n.a.createElement(He.a,{container:!0,spacing:1,className:t.container},n.a.createElement(He.a,{item:!0,xs:6},n.a.createElement(ea,{hr:this.props.hr,selectSupervisor:this.props.selectSupervisor})),n.a.createElement(He.a,{item:!0,xs:6},this.props.supervisorSelected?n.a.createElement(zt.a,{className:t.chip,icon:n.a.createElement(Jt.a,null),label:this.props.supervisorName}):null)))))}}]),t}(r.Component),ha=Object(T.a)((function(){return{title:{marginBottom:5},paper:{height:600},input:{display:"inline-block",width:"90%"},field:{marginTop:50},slider:{width:"90%"},supervisorField:{marginTop:20,marginBottom:20},supervisorName:{display:"inline"}}}),{withTheme:!0})(da),ba=function(e){function t(e){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).call(this,e))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return n.a.createElement(n.a.Fragment,null,n.a.createElement(He.a,{item:!0,xs:4,className:t.container},n.a.createElement("div",{className:t.field},n.a.createElement(me.a,{className:t.title,variant:"h6"}," Password "),n.a.createElement(gt.a,{className:t.input,name:"newPassword",type:"password",helperText:"New Password",fullWidth:!0,onChange:function(t){return e.props.formHandler(t)},margin:"normal",InputLabelProps:{shrink:!0}}),n.a.createElement(gt.a,{className:t.input,name:"confirmPassword",type:"password",helperText:"Confirm New Password",fullWidth:!0,onChange:function(t){return e.props.formHandler(t)},margin:"normal",InputLabelProps:{shrink:!0}})),n.a.createElement(A.a,{variant:"contained",color:"primary",className:t.button,onClick:this.props.handleSubmit},"Submit")))}}]),t}(r.Component),ga=Object(T.a)((function(){return{container:{marginTop:20},title:{marginBottom:5},input:{display:"block",width:"90%"},field:{marginTop:30},button:{width:"90%",marginTop:20}}}),{withTheme:!0})(ba);a(278);var fa=a(280),ja=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={isHr:!1,isAdmin:!1,isSuperTimesheetApprover:!1,vacation:0,supervisorId:"",labelGradeId:"",labelGradeName:"",supervisorFirstName:"",supervisorLastName:"",supervisorSelected:!1,marks:fa},a.formHandler=a.formHandler.bind(Object(h.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a.isHrSwitch=a.isHrSwitch.bind(Object(h.a)(a)),a.isAdminSwitch=a.isAdminSwitch.bind(Object(h.a)(a)),a.isSuperTimesheetApproverSwitch=a.isSuperTimesheetApproverSwitch.bind(Object(h.a)(a)),a.valueLabelFormat=a.valueLabelFormat.bind(Object(h.a)(a)),a.getSliderValue=a.getSliderValue.bind(Object(h.a)(a)),a.selectSupervisor=a.selectSupervisor.bind(Object(h.a)(a)),a.laborGradeFilter=a.laborGradeFilter.bind(Object(h.a)(a)),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.setState({firstName:"",middleName:"",lastName:"",supervisorId:"",newPassword:"",confirmPassword:"",isHr:!1,isAdmin:!1,isSuperTimesheetApprover:!1,vacation:0,laborGradeId:fa[0].label,laborGradeName:"",errorAlert:!1,successAlert:!1,marks:fa,supervisorSelected:!1,supervisorFirstName:"",supervisorLastName:""})}},{key:"laborGradeFilter",value:function(){var e=this;this.state.marks.forEach((function(t,a){e.state.laborGradeId==t.label&&e.setState({laborGradeName:t.name})}))}},{key:"getSliderValue",value:function(e){this.setState({laborGradeId:this.state.marks[e].label,laborGradeName:this.state.marks[e].name})}},{key:"valueLabelFormat",value:function(e){return this.state.marks[e].label}},{key:"formHandler",value:function(e){e.preventDefault(),this.setState(Object(ie.a)({},e.target.name,e.target.value))}},{key:"isHrSwitch",value:function(){this.setState({isHr:!this.state.isHr})}},{key:"isAdminSwitch",value:function(){this.setState({isAdmin:!this.state.isAdmin})}},{key:"isSuperTimesheetApproverSwitch",value:function(){this.setState({isSuperTimesheetApprover:!this.state.isSuperTimesheetApprover})}},{key:"selectSupervisor",value:function(e,t,a){this.setState({supervisorId:e,supervisorFirstName:t,supervisorLastName:a,supervisorSelected:!0})}},{key:"handleSubmit",value:function(){var e=Object(c.a)(l.a.mark((function e(){var t,a,r,n,s,i,o,c,u,m,p,d,h,b,g=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),a=this.state,r=a.firstName,n=a.middleName,s=a.lastName,i=a.supervisorId,o=a.laborGradeId,c=a.laborGradeName,u=a.confirmPassword,m=a.isHr,p=a.isAdmin,d=a.isSuperTimesheetApprover,h=a.vacation,this.laborGradeFilter(),b={supervisor_id:i,labor_grade_id:{laborGradeId:o,labor_grade_name:c},password:u,first_name:r,middle_name:n,last_name:s,start_date:(new Date).getTime(),end_date:null,is_admin:p,is_hr_staff:m,is_super_timesheet_approver:d,is_secondary_approver:!1,vacation:h},e.next=6,w.createEmployee(t,b);case 6:this.setState({successAlert:!0,errorAlert:!1}),setTimeout((function(){g.setState({successAlert:!1,errorAlert:!1})}),1e3);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.hr;return n.a.createElement("div",{className:t.root},this.state.errorAlert?n.a.createElement(ia,{config:{message:"error",variant:"error"}}):null,this.state.successAlert?n.a.createElement(ia,{config:{message:"success",variant:"success"}}):null,n.a.createElement(Dt.a,{className:t.paper,elevation:2},n.a.createElement(He.a,{container:!0,spacing:1},n.a.createElement(pa,{hr:a,formHandler:this.formHandler,isHrSwitch:this.isHrSwitch,isHr:this.state.isHr,isAdminSwitch:this.isAdminSwitch,isAdmin:this.state.isAdmin,isSuperTimesheetApproverSwitch:this.isSuperTimesheetApproverSwitch,isSuperTimesheetApprover:this.state.isSuperTimesheetApprover}),n.a.createElement(he.a,{orientation:"vertical",flexItem:!0,className:t.divider}),n.a.createElement(ha,{hr:a,formHandler:this.formHandler,valueLabelFormat:this.valueLabelFormat,marks:this.state.marks,laborGradeId:this.state.laborGradeId,getSliderValue:this.getSliderValue,selectSupervisor:this.selectSupervisor,supervisorName:"".concat(this.state.supervisorFirstName," ").concat(this.state.supervisorLastName),supervisorSelected:this.state.supervisorSelected}),n.a.createElement(he.a,{orientation:"vertical",flexItem:!0,className:t.divider}),n.a.createElement(ga,{hr:a,formHandler:this.formHandler,handleSubmit:this.handleSubmit}))))}}]),t}(r.Component),va=Object(T.a)((function(){return{root:{flexGrow:1},paper:{height:750},divider:{margin:45,height:690}}}),{withTheme:!0})(ja),Ea=(a(534),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleClickOpen=function(){a.setState({setOpen:!0})},a.handleClickClose=function(){a.setState({setOpen:!1})},a.state={setOpen:!1,open:!1,members:[]},a.handleClickOpen=a.handleClickOpen.bind(Object(h.a)(a)),a.handleClickClose=a.handleClickClose.bind(Object(h.a)(a)),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({members:e.members,setOpen:e.open})}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(Yt.a,{open:this.state.setOpen,keepMounted:!0,onClose:this.handleClickClose},n.a.createElement(Xt.a,{className:"modal-container"},n.a.createElement("div",null,n.a.createElement("p",{className:"modal-title"},"Team Members")),this.state.members.map((function(e){return n.a.createElement(He.a,{container:!0,direction:"row",alignItems:"center"},n.a.createElement(He.a,{item:!0,className:"projectDetailsMargin2"},n.a.createElement(be.a,{variant:"circle","aria-controls":"simple-menu","aria-haspopup":"true"},e.first_name.slice(0,1).toUpperCase(),e.last_name.slice(0,1).toUpperCase())),n.a.createElement(He.a,{item:!0},n.a.createElement(me.a,null,e.first_name+" "+e.last_name)))})))))}}]),t}(r.Component)),ka=(a(198),["ID","Name","Supervisor","Team"]),ya=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={wpList:e.wpList,data:[]},a.options={print:!1,responsive:"scroll",selectableRows:!1,onRowClick:function(e,t){console.log(e),a.props.history.push({pathname:"/workpackageDetail",state:{wpID:e[0]}})}},a.setData=a.setData.bind(Object(h.a)(a)),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.setData(this.state.wpList)}},{key:"setData",value:function(e){var t,a=[];e.map((function(e){(t=[]).push(e.work_package_id),t.push(e.description),t.push(e.responsible_person_id.first_name+" "+e.responsible_person_id.last_name),t.push(e.employees.length),a.push(t)})),this.setState({data:a})}},{key:"render",value:function(){return n.a.createElement(I.a,{className:"WorkpackageListDT",title:"Work Packages",columns:ka,options:this.options,data:this.state.data})}}]),t}(n.a.Component),Oa=a(590),wa=a(591),Na=a(294),Ca=a.n(Na),Sa=a(200),Da=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={wpList:[],data:[]},a.setData=a.setData.bind(Object(h.a)(a)),a.addChildren=a.addChildren.bind(Object(h.a)(a)),a.renderTree=a.renderTree.bind(Object(h.a)(a)),a.handleClick=a.handleClick.bind(Object(h.a)(a)),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;console.log("Received props"),this.setState({wpList:e.wpList},(function(){return t.setData(t.state.wpList)}))}},{key:"setData",value:function(e){var t=this,a=[],r="",n="",s=[],i={};e.sort((function(e,t){return parseInt(e.higher_work_package_id)-parseInt(t.higher_work_package_id)})),console.log(e),e.map((function(e){i={},s=[],r=e.work_package_id,n=e.description,i.id=r,i.name=n,i.children=s,"0"===e.higher_work_package_id?a.push(i):t.addChildren(a,e.higher_work_package_id,i)})),this.setState({data:a})}},{key:"addChildren",value:function(e,t,a){for(var r in e){var n=!1;e[r].id===t&&(e[r].children.push(a),n=!0),n||this.addChildren(e[r].children,t,a)}}},{key:"renderLabel",value:function(e){var t=this;return n.a.createElement(Sa.a,{display:"flex",onClick:function(a){t.props.history.push({pathname:"/workpackageDetail",state:{wpID:e.id}}),a.stopPropagation(),a.preventDefault()}},n.a.createElement(me.a,null,"WP"+e.id+": "+e.name))}},{key:"renderTree",value:function(e){var t=this;return console.log(e),n.a.createElement(Oa.a,{key:e.id,nodeId:e.id,label:this.renderLabel(e)},n.a.createElement(me.a,{variant:"h5"},Array.isArray(e.children)?e.children.map((function(e){return t.renderTree(e)})):null))}},{key:"handleClick",value:function(e,t){e.preventDefault(),console.log(e),console.log(t),this.props.history.push({pathname:"/workpackageDetail",state:{wpID:t}})}},{key:"handleToggle",value:function(e,t){e.preventDefault(),console.log(t)}},{key:"render",value:function(){var e=this;return n.a.createElement(wa.a,{className:"PDWPTreeView",defaultCollapseIcon:n.a.createElement(Ze.a,null),defaultExpandIcon:n.a.createElement(Ca.a,null)},this.state.data.map((function(t){return e.renderTree(t)})))}}]),t}(n.a.Component),xa=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={projectID:a.props.location.state.projectID,project:{},wpList:[],isProjManager:null,openModal:!1},a.openModal=a.openModal.bind(Object(h.a)(a)),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"openModal",value:function(){this.setState({openModal:!0})}},{key:"componentDidMount",value:function(){var e=Object(c.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,C.getDetailsById(this.state.projectID,t);case 3:a=e.sent,console.log(a),this.setState({project:a.project,wpList:a.wpList,isProjManager:a.projManager}),console.log(this.state.project.project_manager_id.first_name);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(He.a,{container:!0,spacing:3},n.a.createElement(He.a,{item:!0,xs:12,sm:6,className:"gridBorder"},n.a.createElement(me.a,{variant:"h4"},this.state.project.project_name),n.a.createElement(me.a,{variant:"h6"},this.state.project.description)),this.state.project.hasOwnProperty("project_manager_id")&&n.a.createElement(n.a.Fragment,null,n.a.createElement(He.a,{item:!0,xs:12,sm:3},n.a.createElement(me.a,{variant:"h6"},"Project Manager:"),n.a.createElement(He.a,{container:!0,direction:"row",alignItems:"center"},n.a.createElement(He.a,{item:!0,className:"projectDetailsMargin"},n.a.createElement(be.a,{variant:"circle","aria-controls":"simple-menu","aria-haspopup":"true"},this.state.project.project_manager_id.first_name.slice(0,1).toUpperCase(),this.state.project.project_manager_id.last_name.slice(0,1).toUpperCase())),n.a.createElement(He.a,{item:!0},n.a.createElement(me.a,null,this.state.project.project_manager_id.first_name+" "+this.state.project.project_manager_id.last_name)))),n.a.createElement(He.a,{item:!0,xs:6,sm:3},n.a.createElement(me.a,{variant:"h6"},"Team:"),n.a.createElement(He.a,{container:!0,direction:"row",alignItems:"center"},this.state.project.employees.slice(0,5).map((function(e){return n.a.createElement(He.a,{item:!0,className:"projectDetailsMargin"},n.a.createElement(P.a,{title:e.first_name+" "+e.last_name},n.a.createElement(be.a,{variant:"circle","aria-controls":"simple-menu","aria-haspopup":"true"},e.first_name.slice(0,1).toUpperCase(),e.last_name.slice(0,1).toUpperCase())))})),this.state.project.employees.length>5&&n.a.createElement(n.a.Fragment,null,n.a.createElement(A.a,{onClick:this.openModal},"Show More"),n.a.createElement(Ea,{open:this.state.openModal,members:this.state.project.employees})))))),this.state.isProjManager&&n.a.createElement(n.a.Fragment,null,n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement(He.a,{justify:"space-between",container:!0,spacing:1},n.a.createElement(He.a,{item:!0},n.a.createElement(me.a,{variant:"h6"},n.a.createElement("b",null,"Budget:")," $",this.state.project.budget_dollar),n.a.createElement(me.a,{variant:"h6"},n.a.createElement("b",null,"Start Date:")," ",new Date(this.state.project.start_date).toDateString().split(" ").slice(1).join(" ")," ","\xa0 \xa0",n.a.createElement("b",null,"End Date:")," ",new Date(this.state.project.end_date).toDateString().split(" ").slice(1).join(" "))),n.a.createElement(He.a,{item:!0},n.a.createElement(A.a,{variant:"contained",color:"primary",component:D.b,to:{pathname:"/createWorkpackage",project:this.state.project,wpList:this.state.wpList},style:{marginRight:"5%"}},n.a.createElement("b",null,"+ Create Work Package"))))),!1===this.state.isProjManager?n.a.createElement(ya,{history:this.props.history,type:this.state.isProjManager?"PM":"Emp",wpList:this.state.wpList}):n.a.createElement(He.a,{container:!0,justify:"center",className:"PDWorkpackageTree"},n.a.createElement(He.a,{item:!0},n.a.createElement(Da,{wpList:this.state.wpList,history:this.props.history}))))}}]),t}(n.a.Component),_a=a(20),Ia=a(269),Pa=a(286),Ta=a(215),Aa=a.n(Ta),La=a(216),Ha=a.n(La),Ra=a(163),Fa=a.n(Ra),Ma=a(214),Wa=a.n(Ma),Ba=a(23),Ua=Object(pt.a)((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)}}})),Ga=function(e){var t=Ua(),a=Object(Ba.a)(),r=e.count,s=e.page,i=e.rowsPerPage,o=e.onChangePage;return n.a.createElement("div",{className:t.root},n.a.createElement(ue.a,{onClick:function(e){o(e,0)},disabled:0===s,"aria-label":"first page"},"rtl"===a.direction?n.a.createElement(Wa.a,null):n.a.createElement(Aa.a,null)),n.a.createElement(ue.a,{onClick:function(e){o(e,s-1)},disabled:0===s,"aria-label":"previous page"},"rtl"===a.direction?n.a.createElement(Fa.a,null):n.a.createElement(Ha.a,null)),n.a.createElement(ue.a,{onClick:function(e){o(e,s+1)},disabled:s>=Math.ceil(r/i)-1,"aria-label":"next page"},"rtl"===a.direction?n.a.createElement(Ha.a,null):n.a.createElement(Fa.a,null)),n.a.createElement(ue.a,{onClick:function(e){o(e,Math.max(0,Math.ceil(r/i)-1))},disabled:s>=Math.ceil(r/i)-1,"aria-label":"last page"},"rtl"===a.direction?n.a.createElement(Aa.a,null):n.a.createElement(Wa.a,null)))},za=a(285),Va=Object(pt.a)((function(e){return{search:Object(ie.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Ee.d)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Ee.d)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(ie.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:200})}})),Ja=function(e){var t=e.preGlobalFilteredRows,a=e.globalFilter,r=e.setGlobalFilter,s=Va(),i=t.length;return n.a.createElement("div",{className:s.search},n.a.createElement("div",{className:s.searchIcon},n.a.createElement(ve.a,null)),n.a.createElement(ke.a,{value:a||"",onChange:function(e){r(e.target.value||void 0)},placeholder:"".concat(i," records..."),classes:{root:s.inputRoot,input:s.inputInput},inputProps:{"aria-label":"search"}}))},Za=Object(pt.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(Ee.i)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),Ka=function(e){var t=Za(),a=e.preGlobalFilteredRows,r=e.setGlobalFilter,s=e.globalFilter;return n.a.createElement(ce.a,null,n.a.createElement(me.a,{className:t.title,variant:"h6",id:"tableTitle"},"Work Package Reports"),n.a.createElement(Ja,{preGlobalFilteredRows:a,globalFilter:s,setGlobalFilter:r}))},Ya=a(209),qa=a.n(Ya),Xa=a(131),Qa={padding:0,margin:0,border:0,background:"transparent"},$a={Cell:function(e){var t=e.cell.value,a=e.row.index,r=e.column.id,s=e.updateMyData,i=n.a.useState(t),o=Object(Z.a)(i,2),l=o[0],c=o[1];return n.a.useEffect((function(){c(t)}),[t]),n.a.createElement("input",{style:Qa,value:l,onChange:function(e){c(e.target.value)},onBlur:function(){s(a,r,l)}})}},er=function(e){var t=e.columns,a=e.data,r=(e.setData,e.updateMyData),s=e.skipPageReset,i=Object(Xa.useTable)({columns:t,data:a,defaultColumn:$a,autoResetPage:!s,updateMyData:r},Xa.useGlobalFilter,Xa.useSortBy,Xa.usePagination,(function(e){e.allColumns.push((function(e){return[].concat(Object(_a.a)(e),[{id:"view",Header:n.a.createElement("div",null,"Information Page"),Cell:function(e){e.row;return n.a.createElement(A.a,{variant:"contained",color:"primary"},"View")}},{id:"option",Header:n.a.createElement("div",null),Cell:function(e){e.row;return n.a.createElement(A.a,null,n.a.createElement(qa.a,null))}}])}))})),o=i.getTableProps,l=i.headerGroups,c=i.prepareRow,u=i.page,m=i.gotoPage,p=i.setPageSize,d=i.preGlobalFilteredRows,h=i.setGlobalFilter,b=i.state,g=b.pageIndex,f=b.pageSize,j=b.globalFilter;return n.a.createElement(U.a,null,n.a.createElement(Ka,{preGlobalFilteredRows:d,setGlobalFilter:h,globalFilter:j}),n.a.createElement(M.a,o(),n.a.createElement(G.a,null,l.map((function(e){return n.a.createElement(z.a,e.getHeaderGroupProps(),e.headers.map((function(e){return n.a.createElement(B.a,"view"===e.id?e.getHeaderProps():e.getHeaderProps(e.getSortByToggleProps()),e.render("Header"),"view"!==e.id&&"option"!==e.id?n.a.createElement(za.a,{active:e.isSorted,direction:e.isSortedDesc?"desc":"asc"}):null)})))}))),n.a.createElement(W.a,null,u.map((function(e,t){return c(e),n.a.createElement(z.a,e.getRowProps(),e.cells.map((function(e){return n.a.createElement(B.a,e.getCellProps(),e.render("Cell"))})))}))),n.a.createElement(Ia.a,null,n.a.createElement(z.a,null,n.a.createElement(Pa.a,{rowsPerPageOptions:[5,10,25,{label:"All",value:a.length}],colSpan:3,count:a.length,rowsPerPage:f,page:g,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:function(e,t){m(t)},onChangeRowsPerPage:function(e){p(Number(e.target.value))},ActionsComponent:Ga})))))},tr=a(172),ar=a.n(tr),rr=function(e){for(var t=[],a=0;a<e;a++)t.push(a);return t},nr=function(){var e=Math.random();return{WpId:ar.a.generate({words:1,numbers:2}),WpName:ar.a.generate({words:1,numbers:0}),PM:ar.a.generate({words:1,numbers:0}),Team:Math.floor(100*Math.random()),status:e>.66?"relationship":e>.33?"complicated":"single"}};var sr=function(){var e=n.a.useMemo((function(){return[{Header:"WorkPackge ID",accessor:"WpId"},{Header:"WorkPackage Name",accessor:"WpName"},{Header:"Project Manager",accessor:"PM"},{Header:"Team",accessor:"Team"}]}),[]),t=n.a.useState(n.a.useMemo((function(){return function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var r=function e(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=t[a];return rr(r).map((function(r){return Object(mt.a)({},nr(),{subRows:t[a+1]?e(a+1):void 0})}))};return r()}(20)}),[])),a=Object(Z.a)(t,2),r=a[0],s=a[1],i=n.a.useState(!1),o=Object(Z.a)(i,2),l=o[0],c=o[1];return n.a.createElement("div",null,n.a.createElement(Ae.a,null),n.a.createElement(er,{columns:e,data:r,setData:s,updateMyData:function(e,t,a){c(!0),s((function(r){return r.map((function(n,s){return s===e?Object(mt.a)({},r[e],Object(ie.a)({},t,a)):n}))}))},skipPageReset:l}))},ir=a(282),or=a(273),lr=(a(199),function(e){var t=[];e.project.employees.map((function(e){var a={};a.value=e.employee_id,a.label=e.first_name+" "+e.last_name,t.push(a)}));var a=[];return e.wpList.map((function(e){if("L"!==e.work_package_id.substring(e.work_package_id.length-1)){var t={};t.value=e.work_package_id,t.label="WP"+e.work_package_id+": "+e.description,a.push(t)}})),n.a.createElement("form",{autoComplete:"off"},n.a.createElement(He.a,{container:!0,direction:"column",alignItems:"center"},n.a.createElement(He.a,{item:!0},n.a.createElement(gt.a,{component:"span",className:"WPInfowidth",label:"Work Package ID",name:"wpID",value:"WP"+e.wpID,onChange:e.handleChange,disabled:!0})),n.a.createElement(He.a,{item:!0},n.a.createElement(or.a,{control:n.a.createElement(ir.a,{checked:e.checkedLower,onChange:e.handleCheckboxChange,name:"checkedLower"}),label:"Lowest Work Package"})),n.a.createElement("br",null),n.a.createElement(He.a,{item:!0},n.a.createElement(gt.a,{component:"span",className:"WPInfowidth",label:"Work Package Name",name:"wpName",value:e.wpName,onChange:e.handleChange})),n.a.createElement("br",null),n.a.createElement(He.a,{item:!0},n.a.createElement(gt.a,{select:!0,label:"Responsible Engineer",className:"WPInfowidth",name:"wpRE",value:e.wpRE,onChange:e.handleChange},t.map((function(e){return n.a.createElement(Y.a,{key:e.value,value:e.value},e.label)})))),n.a.createElement("br",null),n.a.createElement(He.a,{item:!0},n.a.createElement(gt.a,{component:"span",className:"WPInfowidth",label:"Parent Project",value:e.project.project_code+": "+e.project.project_name,onChange:e.handleChange,disabled:!0})),n.a.createElement("br",null),n.a.createElement(He.a,{item:!0},n.a.createElement(gt.a,{select:!0,label:"Parent Work Package",className:"WPInfowidth",name:"wpParent",value:e.wpParent,onChange:e.handleChange},a.map((function(e){return n.a.createElement(Y.a,{key:e.value,value:e.value},e.label)}))))))}),cr=function(e){var t=[];return e.project.employees.map((function(e){var a={};a.value=e.employee_id,a.label=e.first_name+" "+e.last_name,t.push(a)})),n.a.createElement("div",null,n.a.createElement(Mt.a,{multiple:!0,options:t,values:e.wpEmps,getOptionLabel:function(e){return e.label},renderInput:function(e){return n.a.createElement(gt.a,Object.assign({},e,{variant:"standard",label:"Select Employees"}))}}))},ur=Object(pt.a)((function(e){return{root:{width:"100%"},backButton:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}}));function mr(e){var t=ur(),a=(JSON.parse(sessionStorage.getItem("user")),Object(r.useState)({wpID:"",wpName:"",wpRE:"",wpParent:"",Desc:"",cost:"",startDate:new Date,endDate:new Date,checkedLower:!1,wpList:e.location.wpList,project:e.location.project,wpEmps:[]})),s=Object(Z.a)(a,2),i=s[0],o=s[1],u=function(){var e=Object(c.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem("token"),console.log(t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=n.a.useState(0),p=Object(Z.a)(m,2),d=p[0],h=p[1],b=["Work-Package Information","Work-Package Description","Budget","Schedule","Employees"];return n.a.createElement("div",{className:t.root},n.a.createElement(dt.a,{activeStep:d,alternativeLabel:!0},b.map((function(e){return n.a.createElement(ht.a,{key:e},n.a.createElement(bt.a,null,e))}))),n.a.createElement("div",null,d===b.length?n.a.createElement("div",null,n.a.createElement(me.a,{component:"span",className:t.instructions},"All steps completed"),n.a.createElement(A.a,{onClick:function(){h(0)}},"Reset")):n.a.createElement("div",null,n.a.createElement(me.a,{component:"span",className:t.instructions},function(e,t,a,r,s,i,o){switch(e){case 0:return n.a.createElement(lr,{wpList:t.wpList,project:t.project,wpID:t.wpID,wpName:t.wpName,wpRE:t.wpRE,wpParent:t.wpParent,checkedLower:t.checkedLower,handleChange:a,handleCheckboxChange:i});case 1:return n.a.createElement(vt,{Desc:t.Desc,handleChange:a});case 2:return n.a.createElement(Et,{cost:t.cost,handleChange:a});case 3:return n.a.createElement(Nt,{startDate:t.startDate,endDate:t.endDate,handleStartChange:r,handleEndChange:s});case 4:return n.a.createElement(cr,{handleTagsChange:o,project:t.project,wpEmps:t.wpEmps})}}(d,i,(function(e){var t=e.target,a=t.name,r=t.value;if(o(Object(mt.a)({},i,Object(ie.a)({},a,r))),"wpParent"===a){var n=-1,s=i.wpList;for(var l in s.sort(),s)s[l].work_package_id.startsWith(r)&&s[l].work_package_id.length===r.length+1&&(n=parseInt(s[l].work_package_id)+1);-1===n&&(n=10*parseInt(r)+1),console.log(n),o(Object(mt.a)({},i,{wpID:n+i.wpID}))}}),(function(e){o(Object(mt.a)({},i,{startDate:e}))}),(function(e){o(Object(mt.a)({},i,{endDate:e}))}),(function(e){var t;o(Object(mt.a)({},i,(t={},Object(ie.a)(t,e.target.name,e.target.checked),Object(ie.a)(t,"wpID",e.target.checked?i.wpID+"L":i.wpID.replace("L","")),t)))}),(function(e){console.log(e),o(Object(mt.a)({},i,{wpEmps:e}))}))),n.a.createElement("div",null,n.a.createElement(A.a,{disabled:0===d,onClick:function(){h((function(e){return e-1}))},className:t.backButton},"Back"),d===b.length-1&&n.a.createElement(A.a,{variant:"contained",color:"primary",onClick:u},"Finish"),d!=b.length-1&&n.a.createElement(A.a,{variant:"contained",color:"primary",onClick:function(){h((function(e){return e+1}))}},"Next")))))}var pr=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={wpID:a.props.location.wpID},a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null)}}]),t}(n.a.Component),dr=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e,t=this;switch(this.props.config.option){case"dashboard":e=n.a.createElement(x.d,null,n.a.createElement(x.b,{path:"/dashboard/timesheet",exact:!0,render:function(e){return n.a.createElement(F,e)}}),n.a.createElement(x.b,{path:"/dashboard/timesheet/:id",exact:!0,render:function(e){return n.a.createElement(J,Object.assign({loadedUser:t.props.config.loadedUser},e))}}),n.a.createElement(x.b,{path:"/dashboard/hr",exact:!0,render:function(e){return n.a.createElement(se,Object.assign({loadedUser:t.props.config.loadedUser},e))}}),n.a.createElement(x.b,{path:"/dashboard/profile/:id",exact:!0,render:function(e){return n.a.createElement(ca,Object.assign({hr:!1,loadedUser:t.props.config.loadedUser},e))}}),n.a.createElement(x.b,{exact:!0,path:"/dashboard/hr/create",render:function(e){return n.a.createElement(va,Object.assign({hr:!0,createEmployee:!0,loadedUser:t.props.config.loadedUser},e))}}),n.a.createElement(x.b,{path:"/dashboard/hr/:id",exact:!0,render:function(e){return n.a.createElement(ca,Object.assign({hr:!0,createEmployee:!1,loadedUser:t.props.config.loadedUser},e))}}),n.a.createElement(x.b,{path:"/dashboard/supervisor",exact:!0,render:function(e){return n.a.createElement(Ft,e)}}),n.a.createElement(x.b,{path:"/dashboard/supervisor/assign",exact:!0,render:function(e){return n.a.createElement(Bt,e)}}),n.a.createElement(x.b,{path:"/dashboard/supervisor/:id",exact:!0,render:function(e){return n.a.createElement(Gt,e)}}),n.a.createElement(x.b,{path:"/dashboard/projects",exact:!0,render:function(e){return n.a.createElement(ut,e)}}),n.a.createElement(x.b,{path:"/createProject",exact:!0,render:function(e){return n.a.createElement(St,e)}}),n.a.createElement(x.b,{path:"/projectDetails",exact:!0,render:function(e){return n.a.createElement(xa,e)}}),n.a.createElement(x.b,{path:"/createWorkpackage",exact:!0,render:function(e){return n.a.createElement(mr,e)}}),n.a.createElement(x.b,{path:"/workpackageDetail",exact:!0,render:function(e){return n.a.createElement(pr,e)}}),n.a.createElement(x.b,{path:"/dashboard/lead",exact:!0,render:function(e){return n.a.createElement(sr,e)}}),n.a.createElement(x.b,{path:"/dashboard/:id",exact:!0,render:function(e){return n.a.createElement(At,Object.assign({token:t.props.token},e))}}));break;case"login":e=n.a.createElement(x.d,null,n.a.createElement(x.b,{path:"/",exact:!0,render:function(e){return n.a.createElement(oe,Object.assign({},e,{loginHandler:t.props.config.loginHandler}))}}));break;case"authentication":e=n.a.createElement(x.d,null,n.a.createElement(x.b,{path:"/dashboard",render:function(e){return n.a.createElement(st,Object.assign({token:t.props.token},e,{logoutHandler:t.props.config.logoutHandler,loadedUser:t.props.config.loadedUser,breadCrumbs:t.props.config.breadCrumbs}))}}));break;default:e=n.a.createElement(x.d,null,"\xe5",n.a.createElement(x.b,{path:"/",exact:!0,render:function(e){return n.a.createElement(oe,Object.assign({},e,{loginHandler:t.props.config.loginHandler}))}}))}return n.a.createElement("div",null,e)}}]),t}(r.Component),hr=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={isAuth:!1,loadedUser:null,token:null},a.loginHandler=a.loginHandler.bind(Object(h.a)(a)),a.logoutHandler=a.logoutHandler.bind(Object(h.a)(a)),a.setAutoLogout=a.setAutoLogout.bind(Object(h.a)(a)),a.sessionHandler=a.sessionHandler.bind(Object(h.a)(a)),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.sessionHandler()}},{key:"sessionHandler",value:function(){var e=sessionStorage.getItem("logged"),t=localStorage.getItem("token"),a=localStorage.getItem("expiryDate");if(e)if(t&&a){var r=new Date(a).getTime()-(new Date).getTime();this.setAutoLogout(r),this.setState({isAuth:!0,loadedUser:JSON.parse(sessionStorage.getItem("user"))})}else this.props.history.push("/");else this.logoutHandler()}},{key:"loginHandler",value:function(){var e=Object(c.a)(l.a.mark((function e(t,a){var r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,N.login(a);case 4:if(r=e.sent){e.next=7;break}return e.abrupt("return");case 7:this.setState({isAuth:!0,loadedUser:r.loadedUser,token:r.token}),36e5,n=new Date((new Date).getTime()+36e5),localStorage.setItem("expiryDate",n.toISOString()),localStorage.setItem("token",r.token),sessionStorage.setItem("user",JSON.stringify(r.loadedUser)),sessionStorage.setItem("logged",!0),this.setAutoLogout(36e5),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.error(e.t0);case 20:case"end":return e.stop()}}),e,this,[[1,17]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"logoutHandler",value:function(){this.setState({isAuth:!1,loadedUser:null}),localStorage.removeItem("expiryDate"),localStorage.removeItem("token"),sessionStorage.removeItem("user"),sessionStorage.removeItem("logged")}},{key:"setAutoLogout",value:function(e){var t=this;setTimeout((function(){t.logoutHandler()}),e)}},{key:"render",value:function(){var e,t=this,a=function(e){return{option:e,loginHandler:t.loginHandler,logoutHandler:t.logoutHandler,loadedUser:t.state.loadedUser}};if(this.state.isAuth){var r=null;r=null==localStorage.getItem("token")?this.state.token:localStorage.getItem("token"),e=n.a.createElement(dr,Object.assign({},this.props,{config:a("authentication"),token:r}))}else e=n.a.createElement(dr,Object.assign({},this.props,{config:a("login")}));return n.a.createElement("div",{className:"App"},n.a.createElement(D.a,null,this.state.isAuth?n.a.createElement(x.a,{to:"/dashboard/".concat(this.state.loadedUser.employee_id)}):n.a.createElement(x.a,{to:"/"}),e))}}]),t}(r.Component);i.a.render(n.a.createElement(hr,null),document.getElementById("root"))}},[[306,1,2]]]);
//# sourceMappingURL=main.044f38bf.chunk.js.map